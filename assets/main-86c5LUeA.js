(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();let I=null;function A(e,t="success"){const r=document.getElementById("js-global-notification"),n=document.getElementById("js-global-notification-text");!r||!n||(I&&(clearTimeout(I),I=null),n.textContent=e,r.classList.remove("global-notification--error"),t==="error"&&r.classList.add("global-notification--error"),r.classList.add("global-notification--visible"),I=setTimeout(()=>{Le()},3e3))}function Le(){const e=document.getElementById("js-global-notification"),t=document.getElementById("js-global-notification-text");e&&(I&&(clearTimeout(I),I=null),e.classList.remove("global-notification--visible"),setTimeout(()=>{t&&(t.textContent=""),e.classList.remove("global-notification--error")},300))}function ct(){const e=document.getElementById("js-global-notification-close");e&&e.addEventListener("click",Le)}function B(e,t,r){if(e){const n=e.classList.contains("rating-modal__textarea")?"rating-modal__textarea--error":e.classList.contains("rating-modal__input")?"rating-modal__input--error":e.classList.contains("footer__subscribe-form-input")?"footer__subscribe-form-input--error":"form-field--error";e.classList.add(n)}t&&(t.textContent=r,t.classList.add("form-error--visible"))}function h(e,t){e&&e.classList.remove("rating-modal__input--error","rating-modal__textarea--error","footer__subscribe-form-input--error","form-field--error"),t&&(t.textContent="",t.classList.remove("form-error--visible"))}function Ce(e){return/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e)}const lt="https://your-energy.b.goit.study/api",ut=1e4,dt=(e,t={})=>{const r=e.startsWith("/")?e:`/${e}`,n=new URL(`${lt}${r}`),s=new URLSearchParams;Object.entries(t).forEach(([i,a])=>{a==null||a===""||s.set(i,a)});const o=s.toString();return o&&(n.search=o),n.toString()},T=async(e,{params:t,signal:r,timeoutMs:n=ut,...s}={})=>{const o=dt(e,t),i=new AbortController,a=new Headers(s.headers||{}),c=s.body!==void 0&&s.body!==null;let u=!1;c&&!a.has("Content-Type")&&a.set("Content-Type","application/json"),r&&(r.aborted?i.abort():r.addEventListener("abort",()=>i.abort(),{once:!0}));const _=n&&Number.isFinite(n)?setTimeout(()=>{u=!0,i.abort()},n):null;let g;try{g=await fetch(o,{...s,headers:a,signal:i.signal})}catch(w){if(_&&clearTimeout(_),(w==null?void 0:w.name)==="AbortError"&&u){const U=new Error("Request timed out.");throw U.name="TimeoutError",U}throw w}finally{_&&clearTimeout(_)}const at=g.headers.get("content-type")||"";let v=null;if(g.status!==204&&(at.includes("application/json")?v=await g.json().catch(()=>null):v=await g.text().catch(()=>null)),!g.ok){const w=typeof v=="string"?v.slice(0,200):v&&typeof v=="object"?JSON.stringify(v).slice(0,200):"",U=v&&typeof v=="object"&&v.message||w||g.statusText||"Request failed",te=new Error(`${U} (status ${g.status})`);throw te.status=g.status,te.data=v,te}return v},mt=(e={})=>T("/quote",e),ft=({filter:e,page:t=1,limit:r=12,signal:n,timeoutMs:s}={})=>T("/filters",{params:{filter:e,page:t,limit:r},signal:n,timeoutMs:s}),_t=({page:e=1,limit:t=8,signal:r,timeoutMs:n,...s}={})=>T("/exercises",{params:{...s,page:e,limit:t},signal:r,timeoutMs:n}),Ae=(e,t={})=>T(`/exercises/${e}`,t),gt=(e,t,r={})=>T(`/exercises/${e}/rating`,{method:"PATCH",body:JSON.stringify(t),...r}),vt=(e,t={})=>T("/subscription",{method:"POST",body:JSON.stringify({email:e}),...t}),R="scrollLockCount",l={activeId:null,lastFocusedElement:null,focusableElements:[],handlers:new Map,keydownAttached:!1};let k=null,de=null,J=null,Y=!1;function ht(){const e=document.body;if(!e)return;const t=Number(e.dataset[R]||0)+1;e.dataset[R]=String(t),t===1&&(e.style.overflow="hidden")}function pt(){const e=document.body;if(!e)return;const t=Number(e.dataset[R]||0)-1;if(t<=0){delete e.dataset[R],e.style.overflow="";return}e.dataset[R]=String(t)}function xt(e){const t=["button:not([disabled])","a[href]","input:not([disabled])","textarea:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(t.join(","))).filter(r=>!r.hasAttribute("aria-hidden"))}function yt(e){if(e.key!=="Tab"||l.focusableElements.length===0)return;const t=l.focusableElements[0],r=l.focusableElements[l.focusableElements.length-1];if(e.shiftKey&&document.activeElement===t){e.preventDefault(),r.focus();return}!e.shiftKey&&document.activeElement===r&&(e.preventDefault(),t.focus())}function Ie(e){if(l.activeId){if(e.key==="Escape"){ie(l.activeId);return}yt(e)}}function Se(e){const t=e.classList[0];return t?`${t}--open`:"is-open"}function ie(e){const t=l.handlers.get(e);if(t!=null&&t.onClose){t.onClose();return}me(e)}function we(e,{onClose:t}={}){var i;const r=document.getElementById(e);if(!r)return null;if(l.activeId===e)return r;l.activeId&&l.activeId!==e&&ie(l.activeId);const n=Se(r);l.activeId=e,l.lastFocusedElement=document.activeElement,l.focusableElements=xt(r),r.classList.add(n),r.setAttribute("aria-hidden","false"),ht(),l.keydownAttached||(document.addEventListener("keydown",Ie),l.keydownAttached=!0);const s=r.querySelector('[class$="__overlay"]'),o=a=>{a.target===a.currentTarget&&ie(e)};return s&&s.addEventListener("click",o),l.handlers.set(e,{overlay:s,overlayHandler:o,openClass:n,onClose:t}),(i=l.focusableElements[0])==null||i.focus(),r}function me(e,t={}){const r=document.getElementById(e);if(!r)return null;const{restoreFocus:n=!0,preserveScroll:s=!1}=t,o=l.handlers.get(e),i=(o==null?void 0:o.openClass)||Se(r);return r.classList.remove(i),r.setAttribute("aria-hidden","true"),o!=null&&o.overlay&&(o!=null&&o.overlayHandler)&&o.overlay.removeEventListener("click",o.overlayHandler),l.handlers.delete(e),s||pt(),n&&l.lastFocusedElement&&typeof l.lastFocusedElement.focus=="function"&&document.contains(l.lastFocusedElement)&&l.lastFocusedElement.focus(),l.activeId===e&&(l.activeId=null,l.focusableElements=[],l.lastFocusedElement=null),!l.activeId&&l.keydownAttached&&(document.removeEventListener("keydown",Ie),l.keydownAttached=!1),r}function f(){const e=document.getElementById("js-rating-modal");return e?{modal:e,closeBtn:document.getElementById("js-rating-modal-close"),serverMessage:document.getElementById("js-rating-server-message"),serverMessageText:document.getElementById("js-rating-server-message-text"),serverMessageClose:document.getElementById("js-rating-server-message-close"),ratingValue:document.getElementById("js-rating-modal-value"),ratingError:document.getElementById("js-rating-error"),form:document.getElementById("js-rating-modal-form"),emailInput:document.getElementById("rating-email"),emailError:document.getElementById("js-email-error"),commentTextarea:document.getElementById("rating-comment"),commentError:document.getElementById("js-comment-error"),starInputs:Array.from(e.querySelectorAll(".rating-modal__star-input")),starLabels:Array.from(e.querySelectorAll(".rating-modal__star"))}:null}function bt(e,t="error"){const r=f();!(r!=null&&r.serverMessage)||!r.serverMessageText||(r.serverMessageText.textContent=e,r.serverMessage.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"),r.serverMessage.classList.add(`rating-modal__server-message--${t}`),r.serverMessage.classList.add("rating-modal__server-message--visible"))}function fe(){const e=f();e!=null&&e.serverMessage&&(e.serverMessage.classList.remove("rating-modal__server-message--visible"),e.serverMessageText&&(e.serverMessageText.textContent=""),e.serverMessage.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"))}function Be(){const e=f();if(!e)return 0;const t=e.starInputs.find(r=>r.checked);return t?Number(t.value):0}function z(e){const t=f();t&&t.starLabels.forEach((r,n)=>{if(n<e){r.classList.add("rating-modal__star--active");const s=r.querySelector("path");s&&(s.setAttribute("fill","#EEA10C"),s.setAttribute("stroke","#EEA10C"))}else{r.classList.remove("rating-modal__star--active");const s=r.querySelector("path");s&&(s.setAttribute("fill","none"),s.setAttribute("stroke","currentColor"))}})}function ke(e){const t=f();t!=null&&t.ratingValue&&(t.ratingValue.textContent=e.toFixed(1))}function Et(){const e=f();e&&(e.form&&e.form.reset(),e.starInputs.forEach(t=>{t.checked=!1}),z(0),ke(0),h(e.emailInput,e.emailError),h(e.commentTextarea,e.commentError),h(null,e.ratingError),fe())}function qe(){const e=k,t=typeof J=="function";Ne({restoreFocus:!t}),t&&e&&J(e)}function Me(){qe()}function Fe(e){const t=Number(e.target.value);z(t),ke(t);const r=f();r!=null&&r.ratingError&&h(null,r.ratingError)}function Te(e){const t=Number(e.currentTarget.dataset.rating||0);z(t)}function je(){const e=Be();z(e)}function $e(){const e=f();e&&h(e.emailInput,e.emailError)}function Pe(){const e=f();e&&h(e.commentTextarea,e.commentError)}function Re(){fe()}async function Oe(e){var i,a;e.preventDefault();const t=f();if(!t)return;const r=Be(),n=((i=t.emailInput)==null?void 0:i.value.trim())||"",s=((a=t.commentTextarea)==null?void 0:a.value.trim())||"";let o=!1;if(r?h(null,t.ratingError):(B(null,t.ratingError,"Please select a rating"),o=!0),n?Ce(n)?h(t.emailInput,t.emailError):(B(t.emailInput,t.emailError,"Please enter a valid email address"),o=!0):(B(t.emailInput,t.emailError,"Please enter your email"),o=!0),s?h(t.commentTextarea,t.commentError):(B(t.commentTextarea,t.commentError,"Please enter your comment"),o=!0),!(o||!k)){fe();try{const c=await gt(k,{rate:r,email:n,review:s}),u=(c==null?void 0:c.name)||"the exercise",_=k,g=de;Ne({restoreFocus:!g}),A(`Thank you, your review for exercise ${u} has been submitted`,"success"),g&&_&&g(_)}catch(c){const u=c.message||"Failed to submit rating. Please try again.";bt(u,"error")}}}function Lt(){var t,r,n,s,o;if(Y)return;const e=f();e&&((t=e.closeBtn)==null||t.addEventListener("click",Me),(r=e.serverMessageClose)==null||r.addEventListener("click",Re),(n=e.form)==null||n.addEventListener("submit",Oe),(s=e.emailInput)==null||s.addEventListener("input",$e),(o=e.commentTextarea)==null||o.addEventListener("input",Pe),e.starInputs.forEach(i=>i.addEventListener("change",Fe)),e.starLabels.forEach(i=>{i.addEventListener("mouseenter",Te),i.addEventListener("mouseleave",je)}),Y=!0)}function Ct(){var t,r,n,s,o;if(!Y)return;const e=f();e&&((t=e.closeBtn)==null||t.removeEventListener("click",Me),(r=e.serverMessageClose)==null||r.removeEventListener("click",Re),(n=e.form)==null||n.removeEventListener("submit",Oe),(s=e.emailInput)==null||s.removeEventListener("input",$e),(o=e.commentTextarea)==null||o.removeEventListener("input",Pe),e.starInputs.forEach(i=>i.removeEventListener("change",Fe)),e.starLabels.forEach(i=>{i.removeEventListener("mouseenter",Te),i.removeEventListener("mouseleave",je)}),Y=!1)}function At(e,t={}){f()&&(k=e,de=t.onSuccess||null,J=t.onClose||null,Et(),Lt(),we("js-rating-modal",{onClose:qe}))}function Ne(e={}){f()&&(Ct(),me("js-rating-modal",e),k=null,de=null,J=null)}function It(){const e=f();e!=null&&e.modal&&e.modal.setAttribute("aria-hidden","true")}const He="your-energy:favorites",oe="favorites";function ye(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}function W(){try{const e=ye(localStorage.getItem(He),null),t=new Set;if(Array.isArray(e))return e.forEach(n=>{n!=null&&n!==""&&t.add(String(n))}),t;const r=ye(localStorage.getItem(oe),null);return Array.isArray(r)&&(r.forEach(n=>{n!=null&&n!==""&&t.add(String(n))}),_e(t),localStorage.removeItem(oe)),t}catch{return new Set}}function _e(e){try{const t=Array.from(e||[]).map(r=>String(r));localStorage.setItem(He,JSON.stringify(t)),localStorage.removeItem(oe)}catch{}}function St(){return Array.from(W())}function wt(e){try{const t=W(),r=String(e);return t.has(r)?!1:(t.add(r),_e(t),!0)}catch{return!1}}function Ve(e){try{const t=W(),r=String(e);return t.has(r)&&(t.delete(r),_e(t)),!0}catch{return!1}}function Ue(e){return W().has(String(e))}function Bt(e){return Ue(e)?(Ve(e),!1):(wt(e),!0)}const ae={HOME:"home",FAVORITES:"favorites"},kt="favorites.html",O="scrollLockCount";let ce=ae.HOME,m=null,L=null,re=null,H=!1;function qt(){var r;const e=(r=document.body)==null?void 0:r.dataset.page;return e||(window.location.pathname.endsWith(kt)?ae.FAVORITES:ae.HOME)}function Mt(e){document.querySelectorAll(".header__nav-link").forEach(n=>{n.getAttribute("data-page")===e?(n.classList.add("header__nav-link--active"),n.setAttribute("aria-current","page")):(n.classList.remove("header__nav-link--active"),n.removeAttribute("aria-current"))}),document.querySelectorAll(".mobile-menu__nav-link").forEach(n=>{n.getAttribute("data-page")===e?(n.classList.add("mobile-menu__nav-link--active"),n.setAttribute("aria-current","page")):(n.classList.remove("mobile-menu__nav-link--active"),n.removeAttribute("aria-current"))})}function Ft(){H||(H=!0,m&&(m.classList.add("is-open"),m.setAttribute("aria-hidden","false")),L&&L.setAttribute("aria-expanded","true"),jt(),document.addEventListener("keydown",De))}function N(){H&&(H=!1,m&&(m.classList.remove("is-open"),m.setAttribute("aria-hidden","true")),L&&L.setAttribute("aria-expanded","false"),$t(),document.removeEventListener("keydown",De))}function Tt(){H?N():Ft()}function De(e){e.key==="Escape"&&N()}function jt(){const e=document.body;if(!e)return;const t=Number(e.dataset[O]||0)+1;e.dataset[O]=String(t),t===1&&(e.style.overflow="hidden")}function $t(){const e=document.body;if(!e)return;const t=Number(e.dataset[O]||0)-1;if(t<=0){delete e.dataset[O],e.style.overflow="";return}e.dataset[O]=String(t)}function Pt(){ce=qt(),Mt(ce),m=document.querySelector(".mobile-menu"),L=document.querySelector(".header__burger"),re=document.querySelector(".mobile-menu__close"),m&&m.setAttribute("aria-hidden","true"),L&&(m!=null&&m.id&&L.setAttribute("aria-controls",m.id),L.addEventListener("click",Tt),L.setAttribute("aria-expanded","false")),re&&re.addEventListener("click",N),document.querySelectorAll(".mobile-menu__nav-link").forEach(t=>{t.addEventListener("click",()=>{N()})}),m&&m.addEventListener("click",t=>{t.target===m&&N()})}function Rt(){return ce}let Z=null,G=!1,S=null,ne=0;function j(){const e=document.getElementById("js-exercise-modal");return e?{modal:e,closeBtn:document.getElementById("js-exercise-modal-close"),image:document.getElementById("js-exercise-modal-image"),video:document.getElementById("js-exercise-modal-video"),title:document.getElementById("js-exercise-modal-title"),ratingValue:e.querySelector(".exercise-modal__rating-value"),ratingStars:e.querySelector(".exercise-modal__rating-stars"),target:document.getElementById("js-exercise-modal-target"),bodyPart:document.getElementById("js-exercise-modal-body-part"),equipment:document.getElementById("js-exercise-modal-equipment"),popular:document.getElementById("js-exercise-modal-popular"),calories:document.getElementById("js-exercise-modal-calories"),time:document.getElementById("js-exercise-modal-time"),description:document.getElementById("js-exercise-modal-description"),favoriteBtn:document.getElementById("js-exercise-modal-favorites"),ratingBtn:document.getElementById("js-exercise-modal-rating-btn")}:null}function Ke(){Q()}function Je(){const e=Z;if(!e)return;const t=Bt(e);Ge(e),!t&&Rt()==="favorites"&&(Q(),st())}function Ye(){const e=Z;e&&(Q({restoreFocus:!1}),At(e,{onSuccess:()=>le(e),onClose:()=>le(e)}))}function Ot(){var t,r,n;if(G)return;const e=j();e&&((t=e.closeBtn)==null||t.addEventListener("click",Ke),(r=e.favoriteBtn)==null||r.addEventListener("click",Je),(n=e.ratingBtn)==null||n.addEventListener("click",Ye),G=!0)}function Nt(){var t,r,n;if(!G)return;const e=j();e&&((t=e.closeBtn)==null||t.removeEventListener("click",Ke),(r=e.favoriteBtn)==null||r.removeEventListener("click",Je),(n=e.ratingBtn)==null||n.removeEventListener("click",Ye),G=!1)}function Ge(e){const t=j();if(!(t!=null&&t.favoriteBtn))return;const r=Ue(e),n=t.favoriteBtn.querySelector("span"),s=t.favoriteBtn.querySelector("svg path");r?(t.favoriteBtn.classList.add("active"),n&&(n.textContent="Remove from favorites"),s&&(s.setAttribute("fill","currentColor"),s.removeAttribute("stroke"),s.removeAttribute("stroke-width"))):(t.favoriteBtn.classList.remove("active"),n&&(n.textContent="Add to favorites"),s&&(s.setAttribute("fill","none"),s.setAttribute("stroke","currentColor"),s.setAttribute("stroke-width","2")))}async function le(e){const t=j();if(!t)return;Z=e,S&&S.abort(),S=new AbortController,ne+=1;const r=ne;we("js-exercise-modal",{onClose:Q}),Ot(),t.title&&(t.title.textContent="Loading..."),t.ratingValue&&(t.ratingValue.textContent="0.0"),t.target&&(t.target.textContent=""),t.bodyPart&&(t.bodyPart.textContent=""),t.equipment&&(t.equipment.textContent=""),t.popular&&(t.popular.textContent="0"),t.calories&&(t.calories.textContent="0"),t.time&&(t.time.textContent="/0 min"),t.description&&(t.description.textContent=""),t.image&&(t.image.src="",t.image.classList.remove("is-hidden")),t.video&&(t.video.src="",t.video.classList.remove("is-visible"),t.video.pause());try{const n=await Ae(e,{signal:S.signal});if(r!==ne)return;const s=n.videoUrl||n.video||n.videoURL;if(s&&t.video?(t.video.src=s,t.video.classList.add("is-visible"),t.image&&t.image.classList.add("is-hidden")):t.image&&(t.image.src=n.gifUrl||""),t.title&&(t.title.textContent=n.name||""),t.target&&(t.target.textContent=n.target||""),t.bodyPart&&(t.bodyPart.textContent=n.bodyPart||""),t.equipment&&(t.equipment.textContent=n.equipment||""),t.popular&&(t.popular.textContent=n.popularity||0),t.calories&&(t.calories.textContent=n.burnedCalories||0),t.time&&(t.time.textContent=`/${n.time||0} min`),t.description&&(t.description.textContent=n.description||""),t.ratingValue&&(t.ratingValue.textContent=(n.rating||0).toFixed(1)),t.ratingStars){const o=t.ratingStars.querySelectorAll(".exercise-modal__rating-star"),i=Math.round(n.rating||0);o.forEach((a,c)=>{const u=a.querySelector("path");c<i?(u.setAttribute("fill","#EEA10C"),u.removeAttribute("stroke"),u.removeAttribute("stroke-width")):(u.setAttribute("fill","none"),u.setAttribute("stroke","rgba(255,255,255,0.3)"),u.setAttribute("stroke-width","1.5"))})}Ge(e)}catch(n){if((n==null?void 0:n.name)==="AbortError")return;t.title&&(t.title.textContent="Error loading exercise"),t.description&&(t.description.textContent="Failed to load exercise details. Please try again later."),A(n.message||"Failed to load exercise details.","error")}}function Q(e={}){const t=j();t&&(Nt(),me("js-exercise-modal",e),Z=null,t.video&&(t.video.pause(),t.video.src="",t.video.classList.remove("is-visible")),S&&(S.abort(),S=null))}function Ht(){const e=j();e!=null&&e.modal&&e.modal.setAttribute("aria-hidden","true")}let $="Muscles",V=1,b=null,y="",x="home";const Vt=748,Ut={Muscles:"muscles","Body parts":"bodypart",Equipment:"equipment"},D=new Map,ze=new Map,d={filters:{controller:null,requestId:0},exercises:{controller:null,requestId:0},favorites:{controller:null,requestId:0}},q=()=>document.getElementById("js-exercises-cards"),We=()=>document.querySelector(".exercises__content__pagination"),ge=()=>document.getElementById("js-exercises-search"),Ze=()=>document.getElementById("js-exercises-search-input"),Dt=()=>document.getElementById("js-exercises-heading"),Kt=()=>document.getElementById("js-exercises-breadcrumbs"),Qe=()=>document.querySelector(".exercises__content");function ve(e){e.controller&&e.controller.abort();const t=new AbortController;return e.controller=t,e.requestId+=1,{controller:t,requestId:e.requestId}}function M(e){e.controller&&e.controller.abort(),e.controller=null,e.requestId+=1}function p(e,t){return e.requestId===t}function he(e){return(e==null?void 0:e.name)==="AbortError"}function Xe(){return window.matchMedia(`(min-width: ${Vt}px)`).matches}function Jt(){return Xe()?12:9}function Yt(){return Xe()?10:8}function Gt(e,t,r){const n=D.get(e);return n&&n.get(`${t}:${r}`)||null}function zt(e,t,r,n){D.has(e)||D.set(e,new Map),D.get(e).set(`${t}:${r}`,n)}function Wt(e){return ze.get(e)||null}function Zt(e,t){ze.set(e,t)}function C(e){const t=q();t&&t.setAttribute("aria-busy",e?"true":"false")}function Qt(){const e=ge();e&&e.classList.remove("exercises__content__header-search--hidden")}function et(){const e=ge(),t=Ze();e&&e.classList.add("exercises__content__header-search--hidden"),t&&(t.value=""),y=""}function Xt(e){if(!e)return"";const t=e.trim();return t?t.charAt(0).toUpperCase()+t.slice(1):e}function P(e){const t=document.createElement("li");return t.className="exercises__content__header-breadcrumbs-entry",t.appendChild(e),t}function se(e){const t=Dt();t&&(t.textContent=e)}function X(e=null){const t=Kt();if(!t)return;if(t.innerHTML="",x==="favorites"){se("Favorites");const i=document.createElement("span");i.className="exercises__content__header-title exercises__content__header-breadcrumbs-current",i.textContent="Favorites",i.setAttribute("aria-current","page"),t.appendChild(P(i));return}if(!e){se("Exercises");const i=document.createElement("span");i.className="exercises__content__header-title exercises__content__header-breadcrumbs-current",i.textContent="Exercises",i.setAttribute("aria-current","page"),t.appendChild(P(i));return}const r=Xt(e);se(`Exercises: ${r}`);const n=document.createElement("button");n.className="exercises__content__header-title exercises__content__header-breadcrumbs-item",n.textContent="Exercises",n.setAttribute("data-breadcrumb","exercises"),n.type="button",n.addEventListener("click",()=>{b=null,V=1,ee($,V)}),t.appendChild(P(n));const s=document.createElement("span");s.className="exercises__content__header-breadcrumbs-separator",s.textContent="/",s.setAttribute("aria-hidden","true"),t.appendChild(P(s));const o=document.createElement("span");o.className="exercises__content__header-breadcrumbs-current",o.textContent=r,o.setAttribute("aria-current","page"),t.appendChild(P(o))}function ue(e){$=e,document.querySelectorAll(".exercises__content__header-filters-item").forEach(r=>{const n=r.getAttribute("data-filter")===e;r.classList.toggle("exercises__content__header-filters-item--active",n),r.setAttribute("aria-pressed",n?"true":"false")})}function er(){const e=document.querySelectorAll(".exercises__content__header-filters-item");e.length&&(e.forEach(t=>{t.addEventListener("click",()=>{const r=t.getAttribute("data-filter");r&&(ue(r),b=null,y="",ee(r,1))})}),ue($))}function tr(e){const t=e.name||"",r=e.filter||"",n=e.imgURL||"";return`
    <li>
      <button
        class="exercises__content__main__cards-item exercise-card exercise-card--category"
        type="button"
        data-action="open-category"
        data-category-name="${t}"
        aria-label="Open ${t} category">
        <div class="exercises__content__main__cards-item-image exercise-card__image">
          <img src="${n}" alt="${t} exercise" loading="lazy" decoding="async" />
          <div class="exercises__content__main__cards-item-overlay exercise-card__overlay">
            <div class="exercises__content__main__cards-item-overlay-name exercise-card__overlay-name">${t}</div>
            <div class="exercises__content__main__cards-item-overlay-category exercise-card__overlay-category">${r}</div>
          </div>
        </div>
      </button>
    </li>
  `}function rr(e){const t=e.rating||0,r=e.burnedCalories||0,n=e.time||0,s=e.bodyPart||"",o=e.target||"",i=e._id||"",a=x==="favorites"?`
      <button
        class="exercises__content__main__cards-item-remove exercise-card__remove"
        type="button"
        data-action="remove-favorite"
        aria-label="Remove from favorites">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
          <path d="M3 6H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M8 6V4H16V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M19 6L18 20H6L5 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M10 10V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M14 10V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    `:"";return`
    <li>
      <article
        class="exercises__content__main__cards-item exercises__content__main__cards-item--exercise exercise-card exercise-card--exercise"
        data-exercise-id="${i}">
        <button
          class="exercises__content__main__cards-item-open exercise-card__open"
          type="button"
          data-action="open-exercise"
          aria-label="Open ${e.name}">
        </button>
        <div class="exercises__content__main__cards-item-header exercise-card__header">
          <span class="exercises__content__main__cards-item-workout-btn exercise-card__badge">WORKOUT</span>
          <div class="exercises__content__main__cards-item-rating exercise-card__rating">
            <span class="exercises__content__main__cards-item-rating-value exercise-card__rating-value">${t.toFixed(1)}</span>
            <svg class="exercises__content__main__cards-item-rating-star exercise-card__rating-star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
              <path d="M9 0L11.0206 6.21885L17.5595 6.21885L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885L6.97937 6.21885L9 0Z" fill="#EEA10C"/>
            </svg>
          </div>
          <button
            class="exercises__content__main__cards-item-start-btn exercise-card__start"
            type="button"
            data-action="open-exercise">
            Start
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
              <path d="M6.75 4.5L11.25 9L6.75 13.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        <div class="exercises__content__main__cards-item-body exercise-card__body">
          <div class="exercises__content__main__cards-item-icon exercise-card__icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
              <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 17L12 22L22 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 12L12 17L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h3 class="exercises__content__main__cards-item-title exercise-card__title">${e.name}</h3>
        </div>
        <ul class="exercises__content__main__cards-item-footer exercise-card__meta">
          <li class="exercises__content__main__cards-item-info exercise-card__meta-item">
            <span class="exercises__content__main__cards-item-info-label exercise-card__meta-label">Burned calories:</span>
            <span class="exercises__content__main__cards-item-info-value exercise-card__meta-value">${r}</span>
            <span class="exercises__content__main__cards-item-info-label exercise-card__meta-label">/ ${n} min</span>
          </li>
          <li class="exercises__content__main__cards-item-info exercise-card__meta-item">
            <span class="exercises__content__main__cards-item-info-label exercise-card__meta-label">Body part:</span>
            <span class="exercises__content__main__cards-item-info-value exercise-card__meta-value">${s}</span>
          </li>
          <li class="exercises__content__main__cards-item-info exercise-card__meta-item">
            <span class="exercises__content__main__cards-item-info-label exercise-card__meta-label">Target:</span>
            <span class="exercises__content__main__cards-item-info-value exercise-card__meta-value">${o}</span>
          </li>
        </ul>
        ${a}
      </article>
    </li>
  `}function nr(e){const t=q();t&&(t.classList.remove("exercises__content__main__cards--exercises","exercise-cards--exercises"),t.innerHTML=e.map(tr).join(""))}function tt(e){const t=q();t&&(t.classList.add("exercises__content__main__cards--exercises","exercise-cards--exercises"),t.innerHTML=e.map(rr).join(""))}function pe(e){const t=q();t&&(t.classList.add("exercises__content__main__cards--exercises","exercise-cards--exercises"),t.innerHTML=`
    <li class="exercises__content__main__empty-state">
      <p class="exercises__content__main__empty-state-text">
        ${e}
      </p>
    </li>
  `)}function rt(){pe("Unfortunately, no categories were found for this filter.")}function nt(){pe("Unfortunately, no results were found. You may want to consider other search options.")}function K(){pe("It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.")}function be(e,t){const r=(e==null?void 0:e.results)||(e==null?void 0:e.exercises)||e||[],n=(e==null?void 0:e.totalPages)||(e==null?void 0:e.total_pages)||(e==null?void 0:e.pageCount)||1;X(null),Array.isArray(r)&&r.length>0?(nr(r),F(n,t)):(rt(),F(1,1))}function Ee(e,t,r){const n=(e==null?void 0:e.results)||[],s=(e==null?void 0:e.totalPages)||1;X(r),Array.isArray(n)&&n.length>0?(tt(n),F(s,t)):(nt(),F(1,1))}function F(e,t=1){const r=We();if(!r||(r.innerHTML="",r.setAttribute("role","navigation"),r.setAttribute("aria-label","Pagination"),e<=1))return;const n=document.createDocumentFragment(),s=a=>{V=a,b?xe(b,a,y):ee($,a)},o=(a,c,u)=>{const _=document.createElement("button");return _.className="exercises__content__pagination-arrow",_.type="button",_.innerHTML=a,_.disabled=c,_.addEventListener("click",u),_};n.appendChild(o("&laquo;",t===1,()=>s(1))),n.appendChild(o("&lsaquo;",t===1,()=>s(t-1)));const i=a=>{const c=document.createElement("button");return c.className="exercises__content__pagination-page",c.type="button",c.textContent=a,a===t&&(c.classList.add("exercises__content__pagination-page--active"),c.setAttribute("aria-current","page")),c.addEventListener("click",()=>s(a)),c};if(e<=5)for(let a=1;a<=e;a++)n.appendChild(i(a));else{n.appendChild(i(1)),n.appendChild(i(2)),n.appendChild(i(3));const a=document.createElement("span");a.className="exercises__content__pagination-ellipsis",a.textContent="...",n.appendChild(a),n.appendChild(i(e-1)),n.appendChild(i(e))}n.appendChild(o("&rsaquo;",t===e,()=>s(t+1))),n.appendChild(o("&raquo;",t===e,()=>s(e))),r.appendChild(n)}async function ee(e,t=1){if(x==="favorites")return;const r=Jt();ue(e),V=t,b=null,y="",et(),M(d.exercises);const{controller:n,requestId:s}=ve(d.filters),o=Gt(e,t,r);if(o){be(o,t),p(d.filters,s)&&C(!1);return}C(!0);try{const i=await ft({filter:e,page:t,limit:r,signal:n.signal});if(!p(d.filters,s)||x==="favorites")return;zt(e,t,r,i),be(i,t)}catch(i){if(!p(d.filters,s)||he(i))return;X(null),rt(),F(1,1),A(i.message||"Failed to load categories.","error")}finally{p(d.filters,s)&&C(!1)}}async function xe(e,t=1,r=y){if(x==="favorites")return;const n=Yt();b=e,V=t,y=(r==null?void 0:r.trim())||"",Qt(),M(d.filters);const s=Ut[$]||"muscles",o=`${s}:${e}:${t}:${n}:${y}`,{controller:i,requestId:a}=ve(d.exercises),c=Wt(o);if(c){Ee(c,t,e),p(d.exercises,a)&&C(!1);return}C(!0);try{const u=await _t({[s]:e,page:t,limit:n,keyword:y,signal:i.signal});if(!p(d.exercises,a)||x==="favorites")return;Zt(o,u),Ee(u,t,e)}catch(u){if(!p(d.exercises,a)||he(u))return;nt(),F(1,1),A(u.message||"Failed to load exercises.","error")}finally{p(d.exercises,a)&&C(!1)}}function sr(){const e=ge(),t=Ze();!e||!t||e.addEventListener("submit",r=>{if(r.preventDefault(),!b||x==="favorites")return;const n=t.value.trim();xe(b,1,n)})}async function st(){const e=St(),t=We();if(X(null),t&&(t.innerHTML=""),e.length===0){M(d.favorites),K();return}const{controller:r,requestId:n}=ve(d.favorites);C(!0);try{const s=await Promise.allSettled(e.map(i=>Ae(i,{signal:r.signal})));if(!p(d.favorites,n)||x!=="favorites")return;const o=s.filter(i=>i.status==="fulfilled"&&i.value).map(i=>i.value);o.length>0?tt(o):K()}catch(s){if(!p(d.favorites,n)||he(s))return;K(),A(s.message||"Failed to load favorite exercises.","error")}finally{p(d.favorites,n)&&C(!1)}}function ir(){const e=q();e&&e.addEventListener("click",t=>{var o;const r=t.target.closest('[data-action="remove-favorite"]');if(r){t.preventDefault();const i=r.closest("[data-exercise-id]"),a=i==null?void 0:i.getAttribute("data-exercise-id");if(a&&(Ve(a),x==="favorites")){const c=r.closest("li");c&&c.remove(),(o=q())!=null&&o.children.length||K()}return}const n=t.target.closest('[data-action="open-category"]');if(n){const i=n.getAttribute("data-category-name");i&&xe(i,1);return}const s=t.target.closest('[data-action="open-exercise"]');if(s){const i=s.closest("[data-exercise-id]"),a=i==null?void 0:i.getAttribute("data-exercise-id");a&&le(a)}})}function or(){x="home",b=null,y="",M(d.favorites);const e=Qe();e&&e.classList.remove("exercises__content--favorites"),ee($,1)}function ar(){x="favorites",b=null,y="",et(),M(d.filters),M(d.exercises),C(!1);const e=Qe();e&&e.classList.add("exercises__content--favorites"),st()}const it="your-energy:quote",E={text:"quote-text",author:"quote-author",date:"quote-date"};function cr(){const e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}function lr(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}function ur(){try{const e=lr(localStorage.getItem(it),null);if(e&&typeof e=="object"&&e.quote&&e.author)return e;const t={quote:localStorage.getItem(E.text),author:localStorage.getItem(E.author),date:localStorage.getItem(E.date)};return t.quote&&t.author?(ot(t),localStorage.removeItem(E.text),localStorage.removeItem(E.author),localStorage.removeItem(E.date),t):null}catch{return null}}function ot(e){try{localStorage.setItem(it,JSON.stringify(e)),localStorage.removeItem(E.text),localStorage.removeItem(E.author),localStorage.removeItem(E.date)}catch{}}async function dr(){const e=ur(),t=cr();if(e&&e.quote&&e.author&&e.date===t)return{quote:e.quote,author:e.author};try{const r=await mt(),n={quote:r==null?void 0:r.quote,author:r==null?void 0:r.author,date:t};return n.quote&&n.author&&ot(n),{quote:r==null?void 0:r.quote,author:r==null?void 0:r.author}}catch{return e!=null&&e.quote&&(e!=null&&e.author)?{quote:e.quote,author:e.author}:((!(e!=null&&e.quote)||!(e!=null&&e.author))&&A("Failed to load quote of the day.","error"),null)}}async function mr(){const e=await dr();if(!e)return;const t=document.getElementById("js-exercises-quote-text"),r=document.getElementById("js-exercises-quote-author");t&&(t.textContent=e.quote),r&&(r.textContent=e.author)}document.addEventListener("DOMContentLoaded",()=>{var s;mr(),Ht(),It(),ct(),Pt(),sr(),ir(),er(),(((s=document.body)==null?void 0:s.dataset.page)||"home")==="favorites"?ar():or();const t=document.getElementById("subscribeForm"),r=document.getElementById("footer-subscribe-email"),n=document.getElementById("subscribeEmailError");r&&n&&r.addEventListener("input",()=>{h(r,n)}),t&&t.addEventListener("submit",async o=>{o.preventDefault();const i=(r==null?void 0:r.value.trim())||"";let a=!1;if(i?Ce(i)?h(r,n):(B(r,n,"Please enter a valid email address"),a=!0):(B(r,n,"Please enter your email address"),a=!0),!a)try{const c=await vt(i);A((c==null?void 0:c.message)||"Subscription successful.","success"),t.reset(),h(r,n)}catch(c){A(c.message||"Failed to subscribe.","error")}})});
//# sourceMappingURL=main-86c5LUeA.js.map
