(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();let g=null;function $(e,t="success"){const n=document.getElementById("js-global-notification"),r=document.getElementById("js-global-notification-text");!n||!r||(g&&(clearTimeout(g),g=null),r.textContent=e,n.classList.remove("global-notification--error"),t==="error"&&n.classList.add("global-notification--error"),n.classList.add("global-notification--visible"),g=setTimeout(()=>{Q()},3e3))}function Q(){const e=document.getElementById("js-global-notification"),t=document.getElementById("js-global-notification-text");e&&(g&&(clearTimeout(g),g=null),e.classList.remove("global-notification--visible"),setTimeout(()=>{t&&(t.textContent=""),e.classList.remove("global-notification--error")},300))}function he(){const e=document.getElementById("js-global-notification-close");e&&e.addEventListener("click",Q)}function h(e,t,n){if(e){const r=e.classList.contains("rating-modal__textarea")?"rating-modal__textarea--error":e.classList.contains("rating-modal__input")?"rating-modal__input--error":e.classList.contains("footer__subscribe-form-input")?"footer__subscribe-form-input--error":"form-field--error";e.classList.add(r)}t&&(t.textContent=n,t.classList.add("form-error--visible"))}function m(e,t){e&&e.classList.remove("rating-modal__input--error","rating-modal__textarea--error","footer__subscribe-form-input--error","form-field--error"),t&&(t.textContent="",t.classList.remove("form-error--visible"))}function Z(e){return/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e)}let x=null,P=null,I=!1;function d(){const e=document.getElementById("js-rating-modal");return e?{modal:e,overlay:e.querySelector(".rating-modal__overlay"),closeBtn:document.getElementById("js-rating-modal-close"),serverMessage:document.getElementById("js-rating-server-message"),serverMessageText:document.getElementById("js-rating-server-message-text"),serverMessageClose:document.getElementById("js-rating-server-message-close"),ratingValue:document.getElementById("js-rating-modal-value"),ratingError:document.getElementById("js-rating-error"),form:document.getElementById("js-rating-modal-form"),emailInput:document.getElementById("js-rating-modal-email"),emailError:document.getElementById("js-email-error"),commentTextarea:document.getElementById("js-rating-modal-comment"),commentError:document.getElementById("js-comment-error"),starInputs:Array.from(e.querySelectorAll(".rating-modal__star-input")),starLabels:Array.from(e.querySelectorAll(".rating-modal__star"))}:null}function ye(e,t="error"){const n=d();!(n!=null&&n.serverMessage)||!n.serverMessageText||(n.serverMessageText.textContent=e,n.serverMessage.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"),n.serverMessage.classList.add(`rating-modal__server-message--${t}`),n.serverMessage.classList.add("rating-modal__server-message--visible"))}function R(){const e=d();e!=null&&e.serverMessage&&(e.serverMessage.classList.remove("rating-modal__server-message--visible"),e.serverMessageText&&(e.serverMessageText.textContent=""),e.serverMessage.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"))}function z(){const e=d();if(!e)return 0;const t=e.starInputs.find(n=>n.checked);return t?Number(t.value):0}function B(e){const t=d();t&&t.starLabels.forEach((n,r)=>{if(r<e){n.classList.add("rating-modal__star--active");const s=n.querySelector("path");s&&(s.setAttribute("fill","#EEA10C"),s.setAttribute("stroke","#EEA10C"))}else{n.classList.remove("rating-modal__star--active");const s=n.querySelector("path");s&&(s.setAttribute("fill","none"),s.setAttribute("stroke","currentColor"))}})}function G(e){const t=d();t!=null&&t.ratingValue&&(t.ratingValue.textContent=e.toFixed(1))}function xe(){const e=d();e&&(e.form&&e.form.reset(),e.starInputs.forEach(t=>{t.checked=!1}),B(0),G(0),m(e.emailInput,e.emailError),m(e.commentTextarea,e.commentError),m(null,e.ratingError),R())}function Y(){M()}function W(e){e.target===e.currentTarget&&M()}function X(e){e.key==="Escape"&&M()}function ee(e){const t=Number(e.target.value);B(t),G(t);const n=d();n!=null&&n.ratingError&&m(null,n.ratingError)}function te(e){const t=Number(e.currentTarget.dataset.rating||0);B(t)}function ne(){const e=z();B(e)}function re(){const e=d();e&&m(e.emailInput,e.emailError)}function se(){const e=d();e&&m(e.commentTextarea,e.commentError)}function ie(){R()}function oe(e){var o,a;e.preventDefault();const t=d();if(!t)return;const n=z(),r=((o=t.emailInput)==null?void 0:o.value.trim())||"",s=((a=t.commentTextarea)==null?void 0:a.value.trim())||"";let i=!1;n?m(null,t.ratingError):(h(null,t.ratingError,"Please select a rating"),i=!0),r?Z(r)?m(t.emailInput,t.emailError):(h(t.emailInput,t.emailError,"Please enter a valid email address"),i=!0):(h(t.emailInput,t.emailError,"Please enter your email"),i=!0),s?m(t.commentTextarea,t.commentError):(h(t.commentTextarea,t.commentError,"Please enter your comment"),i=!0),!(i||!x)&&(R(),fetch(`https://your-energy.b.goit.study/api/exercises/${x}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate:n,email:r,review:s})}).then(async l=>{const c=await l.json();if(!l.ok)throw{message:c.message,data:c};return c}).then(l=>{const c=l.name||"the exercise",f=x,D=P;M(),$(`Thank you, your review for exercise ${c} has been submitted`,"success"),D&&f&&D(f)}).catch(l=>{const c=l.message||"Failed to submit rating. Please try again.";ye(c,"error")}))}function Ee(){var t,n,r,s,i,o;if(I)return;const e=d();e&&((t=e.closeBtn)==null||t.addEventListener("click",Y),(n=e.overlay)==null||n.addEventListener("click",W),(r=e.serverMessageClose)==null||r.addEventListener("click",ie),(s=e.form)==null||s.addEventListener("submit",oe),(i=e.emailInput)==null||i.addEventListener("input",re),(o=e.commentTextarea)==null||o.addEventListener("input",se),e.starInputs.forEach(a=>a.addEventListener("change",ee)),e.starLabels.forEach(a=>{a.addEventListener("mouseenter",te),a.addEventListener("mouseleave",ne)}),document.addEventListener("keydown",X),I=!0)}function Le(){var t,n,r,s,i,o;if(!I)return;const e=d();e&&((t=e.closeBtn)==null||t.removeEventListener("click",Y),(n=e.overlay)==null||n.removeEventListener("click",W),(r=e.serverMessageClose)==null||r.removeEventListener("click",ie),(s=e.form)==null||s.removeEventListener("submit",oe),(i=e.emailInput)==null||i.removeEventListener("input",re),(o=e.commentTextarea)==null||o.removeEventListener("input",se),e.starInputs.forEach(a=>a.removeEventListener("change",ee)),e.starLabels.forEach(a=>{a.removeEventListener("mouseenter",te),a.removeEventListener("mouseleave",ne)}),document.removeEventListener("keydown",X),I=!1)}function be(e,t={}){const n=d();n&&(x=e,P=t.onSuccess||null,xe(),Ee(),n.modal.classList.add("rating-modal--open"),document.body.style.overflow="hidden")}function M(){const e=d();e&&(Le(),e.modal.classList.remove("rating-modal--open"),document.body.style.overflow="",x=null,P=null)}function Ce(){d()}const N="favorites";function T(){try{const e=localStorage.getItem(N);return e?JSON.parse(e):[]}catch{return[]}}function ke(e){try{const t=T();return t.includes(e)?!1:(t.push(e),localStorage.setItem(N,JSON.stringify(t)),!0)}catch{return!1}}function ae(e){try{const n=T().filter(r=>r!==e);return localStorage.setItem(N,JSON.stringify(n)),!0}catch{return!1}}function ce(e){return T().includes(e)}function we(e){return ce(e)?(ae(e),!1):(ke(e),!0)}let H="home",u=null,v=null,j=null;function Ie(){var n;const e=(n=document.body)==null?void 0:n.dataset.page;return e||(window.location.pathname.endsWith("favorites.html")?"favorites":"home")}function Se(e){document.querySelectorAll(".header__nav-link").forEach(r=>{r.getAttribute("data-page")===e?r.classList.add("header__nav-link--active"):r.classList.remove("header__nav-link--active")}),document.querySelectorAll(".mobile-menu__nav-link").forEach(r=>{r.getAttribute("data-page")===e?r.classList.add("mobile-menu__nav-link--active"):r.classList.remove("mobile-menu__nav-link--active")})}function Be(){u&&(u.classList.add("is-open"),document.body.style.overflow="hidden",u.setAttribute("aria-hidden","false")),v&&v.setAttribute("aria-expanded","true")}function F(){u&&(u.classList.remove("is-open"),document.body.style.overflow="",u.setAttribute("aria-hidden","true")),v&&v.setAttribute("aria-expanded","false")}function Me(){H=Ie(),Se(H),u=document.querySelector(".mobile-menu"),v=document.querySelector(".header__burger"),j=document.querySelector(".mobile-menu__close"),u&&u.setAttribute("aria-hidden","true"),v&&v.addEventListener("click",Be),j&&j.addEventListener("click",F),document.querySelectorAll(".mobile-menu__nav-link").forEach(t=>{t.addEventListener("click",()=>{F()})}),u&&u.addEventListener("click",t=>{t.target===u&&F()})}function Te(){return H}let q=null,S=!1;function y(){const e=document.getElementById("js-exercise-modal");return e?{modal:e,overlay:e.querySelector(".exercise-modal__overlay"),closeBtn:document.getElementById("js-exercise-modal-close"),image:document.getElementById("js-exercise-modal-image"),video:document.getElementById("js-exercise-modal-video"),title:document.getElementById("js-exercise-modal-title"),ratingValue:e.querySelector(".exercise-modal__rating-value"),ratingStars:e.querySelector(".exercise-modal__rating-stars"),target:document.getElementById("js-exercise-modal-target"),bodyPart:document.getElementById("js-exercise-modal-body-part"),equipment:document.getElementById("js-exercise-modal-equipment"),popular:document.getElementById("js-exercise-modal-popular"),calories:document.getElementById("js-exercise-modal-calories"),time:document.getElementById("js-exercise-modal-time"),description:document.getElementById("js-exercise-modal-description"),favoriteBtn:document.getElementById("js-exercise-modal-favorites"),ratingBtn:document.getElementById("js-exercise-modal-rating-btn")}:null}function le(){C()}function de(e){e.target===e.currentTarget&&C()}function ue(e){e.key==="Escape"&&C()}function me(){const e=q;if(!e)return;const t=we(e);fe(e),!t&&Te()==="favorites"&&(C(),V())}function _e(){const e=q;e&&(C(),be(e,{onSuccess:()=>ge(e)}))}function qe(){var t,n,r,s;if(S)return;const e=y();e&&((t=e.closeBtn)==null||t.addEventListener("click",le),(n=e.overlay)==null||n.addEventListener("click",de),(r=e.favoriteBtn)==null||r.addEventListener("click",me),(s=e.ratingBtn)==null||s.addEventListener("click",_e),document.addEventListener("keydown",ue),S=!0)}function Ae(){var t,n,r,s;if(!S)return;const e=y();e&&((t=e.closeBtn)==null||t.removeEventListener("click",le),(n=e.overlay)==null||n.removeEventListener("click",de),(r=e.favoriteBtn)==null||r.removeEventListener("click",me),(s=e.ratingBtn)==null||s.removeEventListener("click",_e),document.removeEventListener("keydown",ue),S=!1)}function fe(e){const t=y();if(!(t!=null&&t.favoriteBtn))return;const n=ce(e),r=t.favoriteBtn.querySelector("span"),s=t.favoriteBtn.querySelector("svg path");n?(t.favoriteBtn.classList.add("active"),r&&(r.textContent="Remove from favorites"),s&&(s.setAttribute("fill","currentColor"),s.removeAttribute("stroke"),s.removeAttribute("stroke-width"))):(t.favoriteBtn.classList.remove("active"),r&&(r.textContent="Add to favorites"),s&&(s.setAttribute("fill","none"),s.setAttribute("stroke","currentColor"),s.setAttribute("stroke-width","2")))}function ge(e){const t=y();t&&(q=e,t.modal.classList.add("exercise-modal--open"),document.body.style.overflow="hidden",qe(),t.title&&(t.title.textContent="Loading..."),t.ratingValue&&(t.ratingValue.textContent="0.0"),t.target&&(t.target.textContent=""),t.bodyPart&&(t.bodyPart.textContent=""),t.equipment&&(t.equipment.textContent=""),t.popular&&(t.popular.textContent="0"),t.calories&&(t.calories.textContent="0"),t.time&&(t.time.textContent="/0 min"),t.description&&(t.description.textContent=""),t.image&&(t.image.src="",t.image.classList.remove("is-hidden")),t.video&&(t.video.src="",t.video.classList.remove("is-visible"),t.video.pause()),fetch(`https://your-energy.b.goit.study/api/exercises/${e}`).then(n=>{if(!n.ok)throw new Error("Failed to fetch exercise details");return n.json()}).then(n=>{const r=n.videoUrl||n.video||n.videoURL;if(r&&t.video?(t.video.src=r,t.video.classList.add("is-visible"),t.image&&t.image.classList.add("is-hidden")):t.image&&(t.image.src=n.gifUrl||""),t.title&&(t.title.textContent=n.name||""),t.target&&(t.target.textContent=n.target||""),t.bodyPart&&(t.bodyPart.textContent=n.bodyPart||""),t.equipment&&(t.equipment.textContent=n.equipment||""),t.popular&&(t.popular.textContent=n.popularity||0),t.calories&&(t.calories.textContent=n.burnedCalories||0),t.time&&(t.time.textContent=`/${n.time||0} min`),t.description&&(t.description.textContent=n.description||""),t.ratingValue&&(t.ratingValue.textContent=(n.rating||0).toFixed(1)),t.ratingStars){const s=t.ratingStars.querySelectorAll(".exercise-modal__rating-star"),i=Math.round(n.rating||0);s.forEach((o,a)=>{const l=o.querySelector("path");a<i?(l.setAttribute("fill","#EEA10C"),l.removeAttribute("stroke"),l.removeAttribute("stroke-width")):(l.setAttribute("fill","none"),l.setAttribute("stroke","rgba(255,255,255,0.3)"),l.setAttribute("stroke-width","1.5"))})}fe(e)}).catch(()=>{t.title&&(t.title.textContent="Error loading exercise"),t.description&&(t.description.textContent="Failed to load exercise details. Please try again later.")}))}function C(){const e=y();e&&(Ae(),e.modal.classList.remove("exercise-modal--open"),document.body.style.overflow="",q=null,e.video&&(e.video.pause(),e.video.src="",e.video.classList.remove("is-visible")))}function je(){y()}let p="Muscles",L=1,_=null,b="",k="home";const Fe=12,$e=10;function He(){const e=document.getElementById("js-exercises-search");e&&(e.style.display="flex")}function ve(){const e=document.getElementById("js-exercises-search"),t=document.getElementById("js-exercises-search-input");e&&(e.style.display="none"),t&&(t.value=""),b=""}function Pe(){const e=document.querySelector(".exercises__content__main__cards");e&&e.addEventListener("click",t=>{const n=t.target.closest(".exercises__content__main__cards-item");if(t.target.closest('[data-action="remove-favorite"]')){if(t.preventDefault(),t.stopPropagation(),k==="favorites"&&n){const o=n.getAttribute("data-exercise-id");o&&(ae(o),V())}return}if(!n)return;const s=n.getAttribute("data-category-name");if(s){O(s);return}const i=n.getAttribute("data-exercise-id");if(i){ge(i);return}})}function Re(e){return`
    <div class="exercises__content__main__cards-item" data-category-name="${e.name}">
      <div class="exercises__content__main__cards-item-image">
        <img src="${e.imgURL}" alt="${e.name} exercise" loading="lazy" decoding="async" />
        <div class="exercises__content__main__cards-item-overlay">
          <div class="exercises__content__main__cards-item-overlay-name">${e.name}</div>
          <div class="exercises__content__main__cards-item-overlay-category">${e.filter}</div>
        </div>
      </div>
    </div>
  `}function Ne(e){const t=e.rating||0,n=e.burnedCalories||0,r=e.time||0,s=e.bodyPart||"",i=e.target||"",o=e._id||"",a=k==="favorites"?`
    <button class="exercises__content__main__cards-item-remove" type="button" data-action="remove-favorite" aria-label="Remove from favorites">
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 6H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M8 6V4H16V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M19 6L18 20H6L5 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M10 10V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M14 10V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>
  `:"";return`
    <div class="exercises__content__main__cards-item exercises__content__main__cards-item--exercise" data-exercise-id="${o}">
      <div class="exercises__content__main__cards-item-header">
        <button class="exercises__content__main__cards-item-workout-btn">WORKOUT</button>
        <div class="exercises__content__main__cards-item-rating">
          <span class="exercises__content__main__cards-item-rating-value">${t.toFixed(1)}</span>
          <svg class="exercises__content__main__cards-item-rating-star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 0L11.0206 6.21885L17.5595 6.21885L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885L6.97937 6.21885L9 0Z" fill="#EEA10C"/>
          </svg>
        </div>
        <button class="exercises__content__main__cards-item-start-btn">
          Start
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.75 4.5L11.25 9L6.75 13.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
      <div class="exercises__content__main__cards-item-body">
        <div class="exercises__content__main__cards-item-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 17L12 22L22 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 12L12 17L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h3 class="exercises__content__main__cards-item-title">${e.name}</h3>
      </div>
      <div class="exercises__content__main__cards-item-footer">
        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Burned calories:</span>
          <span class="exercises__content__main__cards-item-info-value">${n}</span>
          <span class="exercises__content__main__cards-item-info-label">/ ${r} min</span>
        </div>
        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Body part:</span>
          <span class="exercises__content__main__cards-item-info-value">${s}</span>
        </div>
        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Target:</span>
          <span class="exercises__content__main__cards-item-info-value">${i}</span>
        </div>
      </div>
      ${a}
    </div>
  `}function Oe(e){const t=document.querySelector(".exercises__content__main__cards");t&&(t.classList.remove("exercises__content__main__cards--exercises"),t.innerHTML="",e.forEach(n=>{const r=Re(n);t.insertAdjacentHTML("beforeend",r)}))}function pe(e){const t=document.querySelector(".exercises__content__main__cards");t&&(t.classList.add("exercises__content__main__cards--exercises"),t.innerHTML="",e.forEach(n=>{const r=Ne(n);t.insertAdjacentHTML("beforeend",r)}))}function U(){const e=document.querySelector(".exercises__content__main__cards");if(!e)return;e.classList.add("exercises__content__main__cards--exercises"),e.innerHTML="",e.insertAdjacentHTML("beforeend",`
    <div class="exercises__content__main__empty-state">
      <p class="exercises__content__main__empty-state-text">
        Unfortunately, no results were found. You may want to consider other search options.
      </p>
    </div>
  `)}function K(){const e=document.querySelector(".exercises__content__main__cards");if(!e)return;e.classList.remove("exercises__content__main__cards--exercises"),e.innerHTML="",e.insertAdjacentHTML("beforeend",`
    <div class="exercises__content__main__empty-state">
      <p class="exercises__content__main__empty-state-text">
        Unfortunately, no categories were found for this filter.
      </p>
    </div>
  `)}function Ve(e){if(!e)return"";const t=e.trim();return t?t.charAt(0).toUpperCase()+t.slice(1):e}function E(e=null){const t=document.getElementById("js-exercises-breadcrumbs");if(!t)return;if(t.innerHTML="",k==="favorites"){const r=document.createElement("span");r.className="exercises__content__header-title exercises__content__header-breadcrumbs-current",r.textContent="Favorites",t.appendChild(r);return}const n=document.createElement("button");if(n.className="exercises__content__header-title exercises__content__header-breadcrumbs-item",n.textContent="Exercises",n.setAttribute("data-breadcrumb","exercises"),n.type="button",e||n.classList.add("exercises__content__header-breadcrumbs-item--active"),n.addEventListener("click",()=>{_=null,L=1,A(p,L)}),t.appendChild(n),e){const r=document.createElement("span");r.className="exercises__content__header-breadcrumbs-separator",r.textContent="/",t.appendChild(r);const s=document.createElement("span");s.className="exercises__content__header-breadcrumbs-current",s.textContent=Ve(e),t.appendChild(s)}}function w(e,t=1){const n=document.querySelector(".exercises__content__pagination");if(!n||(n.innerHTML="",e===1))return;const r=c=>{L=c,_?O(_,c):A(p,c)},s=document.createElement("button");s.className="exercises__content__pagination-arrow",s.innerHTML="&laquo;",s.disabled=t===1,s.addEventListener("click",()=>r(1)),n.appendChild(s);const i=document.createElement("button");i.className="exercises__content__pagination-arrow",i.innerHTML="&lsaquo;",i.disabled=t===1,i.addEventListener("click",()=>r(t-1)),n.appendChild(i);const o=c=>{const f=document.createElement("button");return f.className="exercises__content__pagination-page",f.textContent=c,c===t&&f.classList.add("exercises__content__pagination-page--active"),f.addEventListener("click",()=>r(c)),f};if(e<=5)for(let c=1;c<=e;c++)n.appendChild(o(c));else{n.appendChild(o(1)),n.appendChild(o(2)),n.appendChild(o(3));const c=document.createElement("span");c.className="exercises__content__pagination-ellipsis",c.textContent="...",n.appendChild(c),n.appendChild(o(e-1)),n.appendChild(o(e))}const a=document.createElement("button");a.className="exercises__content__pagination-arrow",a.innerHTML="&rsaquo;",a.disabled=t===e,a.addEventListener("click",()=>r(t+1)),n.appendChild(a);const l=document.createElement("button");l.className="exercises__content__pagination-arrow",l.innerHTML="&raquo;",l.disabled=t===e,l.addEventListener("click",()=>r(e)),n.appendChild(l)}function A(e,t=1){p=e,L=t,ve();const r=`https://your-energy.b.goit.study/api/filters?filter=${encodeURIComponent(e)}&page=${t}&limit=${Fe}`;fetch(r).then(s=>s.json()).then(s=>{const i=s.results||s.exercises||s||[],o=s.totalPages||s.total_pages||s.pageCount||1;_=null,Array.isArray(i)&&i.length>0?(E(null),Oe(i),w(o,t)):(E(null),K(),w(1,1))}).catch(()=>{E(null),K(),w(1,1)})}function O(e,t=1,n=b){_=e,L=t,b=n,He();let r="";p==="Muscles"?r="muscles":p==="Body parts"?r="bodypart":p==="Equipment"&&(r="equipment");const s=encodeURIComponent(e);let i=`https://your-energy.b.goit.study/api/exercises?${r}=${s}&page=${t}&limit=${$e}`;if(n&&n.trim()!==""){const o=encodeURIComponent(n.trim());i+=`&keyword=${o}`}fetch(i).then(o=>o.json()).then(o=>{const a=o.results||[],l=o.totalPages||1;if(E(e),Array.isArray(a)&&a.length>0)pe(a),w(l,t);else{U();const c=document.querySelector(".exercises__content__pagination");c&&(c.innerHTML="")}}).catch(()=>{U();const o=document.querySelector(".exercises__content__pagination");o&&(o.innerHTML="")})}function De(){const e=document.getElementById("js-exercises-search"),t=document.getElementById("js-exercises-search-input");!e||!t||e.addEventListener("submit",n=>{n.preventDefault();const r=t.value.trim();_&&O(_,1,r)})}function J(){const e=document.querySelector(".exercises__content__main__cards");if(!e)return;e.classList.add("exercises__content__main__cards--exercises"),e.innerHTML="",e.insertAdjacentHTML("beforeend",`
    <div class="exercises__content__main__empty-state">
      <p class="exercises__content__main__empty-state-text">
        It appears that you haven't added any exercises to your favorites yet. 
        To get started, you can add exercises that you like to your favorites 
        for easier access in the future.
      </p>
    </div>
  `)}function V(){const e=T();E(null);const t=document.querySelector(".exercises__content__pagination");if(t&&(t.innerHTML=""),e.length===0){J();return}const n=e.map(r=>fetch(`https://your-energy.b.goit.study/api/exercises/${r}`).then(s=>{if(!s.ok)throw new Error("Failed to fetch exercise");return s.json()}).catch(s=>null));Promise.all(n).then(r=>{const s=r.filter(i=>i!==null);s.length>0?pe(s):J()})}function Ue(){k="home",_=null,b="";const e=document.querySelector(".exercises__content__header-filters");e&&(e.style.display="flex");const t=document.querySelector(".exercises__content");t&&t.classList.remove("exercises__content--favorites"),A(p,1)}function Ke(){k="favorites",_=null,b="";const e=document.querySelector(".exercises__content__header-filters");e&&(e.style.display="none"),ve();const t=document.querySelector(".exercises__content");t&&t.classList.add("exercises__content--favorites"),V()}function Je(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}async function Qe(){const e=localStorage.getItem("quote-text"),t=localStorage.getItem("quote-author"),n=localStorage.getItem("quote-date"),r=Je();if(e&&t&&n&&n===r)return{quote:e,author:t};try{const i=await(await fetch("https://your-energy.b.goit.study/api/quote")).json();return localStorage.setItem("quote-text",i.quote),localStorage.setItem("quote-author",i.author),localStorage.setItem("quote-date",r),{quote:i.quote,author:i.author}}catch{return e&&t?{quote:e,author:t}:null}}async function Ze(){const e=await Qe();if(!e)return;const t=document.getElementById("js-exercises-quote-text"),n=document.getElementById("js-exercises-quote-author");t&&(t.textContent=e.quote),n&&(n.textContent=e.author)}async function ze(e){try{const t=await fetch("https://your-energy.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.trim()})}),n=await t.json().catch(()=>null);if(!t.ok){const r=(n==null?void 0:n.message)||"Failed to subscribe";throw new Error(r)}return{success:!0,data:n}}catch(t){return{success:!1,error:t.message}}}document.addEventListener("DOMContentLoaded",()=>{var i;Ze(),je(),Ce(),he(),Me(),De(),Pe(),(((i=document.body)==null?void 0:i.dataset.page)||"home")==="favorites"?Ke():Ue();const t=document.querySelectorAll(".exercises__content__header-filters-item");t.forEach(o=>{o.addEventListener("click",()=>{t.forEach(l=>{l.classList.remove("exercises__content__header-filters-item--active"),l.setAttribute("aria-pressed","false")}),o.classList.add("exercises__content__header-filters-item--active"),o.setAttribute("aria-pressed","true");const a=o.getAttribute("data-filter");A(a,1)})});const n=document.getElementById("subscribeForm"),r=document.getElementById("subscribeEmail"),s=document.getElementById("subscribeEmailError");r&&s&&r.addEventListener("input",()=>{m(r,s)}),n&&n.addEventListener("submit",async o=>{o.preventDefault();const a=(r==null?void 0:r.value.trim())||"";let l=!1;if(a?Z(a)?m(r,s):(h(r,s,"Please enter a valid email address"),l=!0):(h(r,s,"Please enter your email address"),l=!0),l)return;const c=await ze(a);c.success?($(c.data.message,"success"),n.reset(),m(r,s)):$(c.error,"error")})});
//# sourceMappingURL=main-BUFZkZYL.js.map
