{"version":3,"file":"main-XgDnuQbJ.js","sources":["../../src/js/global-notification.js","../../src/js/form-validation.js","../../src/js/rating-modal.js","../../src/js/favorites.js","../../src/js/header.js","../../src/js/exercise-modal.js","../../src/js/exercises.js","../../src/js/quote.js","../../src/main.js"],"sourcesContent":["// Global notification system\nlet notificationTimeout = null;\n\n/**\n * Shows a global notification message\n * @param {string} message - The message to display\n * @param {string} type - The type of notification ('success' or 'error')\n */\nexport function showGlobalNotification(message, type = 'success') {\n  const notification = document.getElementById('js-global-notification');\n  const textElement = document.getElementById('js-global-notification-text');\n\n  if (!notification || !textElement) return;\n\n  // Clear any existing timeout\n  if (notificationTimeout) {\n    clearTimeout(notificationTimeout);\n    notificationTimeout = null;\n  }\n\n  // Set the message and type\n  textElement.textContent = message;\n  notification.classList.remove('global-notification--error');\n  if (type === 'error') {\n    notification.classList.add('global-notification--error');\n  }\n\n  // Show the notification\n  notification.classList.add('global-notification--visible');\n\n  // Auto-hide after 3 seconds\n  notificationTimeout = setTimeout(() => {\n    hideGlobalNotification();\n  }, 3000);\n}\n\n/**\n * Hides the global notification\n */\nexport function hideGlobalNotification() {\n  const notification = document.getElementById('js-global-notification');\n  const textElement = document.getElementById('js-global-notification-text');\n\n  if (!notification) return;\n\n  // Clear timeout if exists\n  if (notificationTimeout) {\n    clearTimeout(notificationTimeout);\n    notificationTimeout = null;\n  }\n\n  // Hide the notification\n  notification.classList.remove('global-notification--visible');\n\n  // Clear content after animation\n  setTimeout(() => {\n    if (textElement) {\n      textElement.textContent = '';\n    }\n    notification.classList.remove('global-notification--error');\n  }, 300);\n}\n\n/**\n * Initializes the global notification system\n */\nexport function initGlobalNotification() {\n  const closeBtn = document.getElementById('js-global-notification-close');\n\n  if (closeBtn) {\n    closeBtn.addEventListener('click', hideGlobalNotification);\n  }\n}\n","/**\n * Form validation utilities module\n * Provides reusable functions for form field validation and error display\n */\n\n/**\n * Shows an error message for a form field\n * @param {HTMLElement} inputElement - The input/textarea element\n * @param {HTMLElement} errorElement - The element to display error message\n * @param {string} message - The error message to display\n */\nexport function showFieldError(inputElement, errorElement, message) {\n  if (inputElement) {\n    // Determine the appropriate error class based on element type\n    const errorClass = inputElement.classList.contains('rating-modal__textarea')\n      ? 'rating-modal__textarea--error'\n      : inputElement.classList.contains('rating-modal__input')\n      ? 'rating-modal__input--error'\n      : inputElement.classList.contains('footer__subscribe-form-input')\n      ? 'footer__subscribe-form-input--error'\n      : 'form-field--error';\n\n    inputElement.classList.add(errorClass);\n  }\n\n  if (errorElement) {\n    errorElement.textContent = message;\n    errorElement.classList.add('form-error--visible');\n  }\n}\n\n/**\n * Hides the error message for a form field\n * @param {HTMLElement} inputElement - The input/textarea element\n * @param {HTMLElement} errorElement - The element displaying error message\n */\nexport function hideFieldError(inputElement, errorElement) {\n  if (inputElement) {\n    inputElement.classList.remove(\n      'rating-modal__input--error',\n      'rating-modal__textarea--error',\n      'footer__subscribe-form-input--error',\n      'form-field--error'\n    );\n  }\n\n  if (errorElement) {\n    errorElement.textContent = '';\n    errorElement.classList.remove('form-error--visible');\n  }\n}\n\n/**\n * Validates an email address\n * @param {string} email - The email address to validate\n * @returns {boolean} True if email is valid, false otherwise\n */\nexport function validateEmail(email) {\n  const emailRegex = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n  return emailRegex.test(email);\n}\n\n/**\n * Validates that a field is not empty\n * @param {string} value - The value to validate\n * @returns {boolean} True if value is not empty, false otherwise\n */\nexport function validateRequired(value) {\n  return value.trim().length > 0;\n}\n","import { showGlobalNotification } from './global-notification.js';\nimport {\n  showFieldError,\n  hideFieldError,\n  validateEmail,\n} from './form-validation.js';\n\nlet currentExerciseIdForRating = null;\nlet onRatingSuccess = null;\nlet listenersAttached = false;\n\nfunction getModalElements() {\n  const modal = document.getElementById('js-rating-modal');\n  if (!modal) return null;\n\n  return {\n    modal,\n    overlay: modal.querySelector('.rating-modal__overlay'),\n    closeBtn: document.getElementById('js-rating-modal-close'),\n    serverMessage: document.getElementById('js-rating-server-message'),\n    serverMessageText: document.getElementById('js-rating-server-message-text'),\n    serverMessageClose: document.getElementById('js-rating-server-message-close'),\n    ratingValue: document.getElementById('js-rating-modal-value'),\n    ratingError: document.getElementById('js-rating-error'),\n    form: document.getElementById('js-rating-modal-form'),\n    emailInput: document.getElementById('js-rating-modal-email'),\n    emailError: document.getElementById('js-email-error'),\n    commentTextarea: document.getElementById('js-rating-modal-comment'),\n    commentError: document.getElementById('js-comment-error'),\n    starInputs: Array.from(\n      modal.querySelectorAll('.rating-modal__star-input')\n    ),\n    starLabels: Array.from(modal.querySelectorAll('.rating-modal__star')),\n  };\n}\n\nfunction showServerMessage(message, type = 'error') {\n  const elements = getModalElements();\n  if (!elements?.serverMessage || !elements.serverMessageText) return;\n\n  elements.serverMessageText.textContent = message;\n  elements.serverMessage.classList.remove(\n    'rating-modal__server-message--error',\n    'rating-modal__server-message--success'\n  );\n  elements.serverMessage.classList.add(`rating-modal__server-message--${type}`);\n  elements.serverMessage.classList.add('rating-modal__server-message--visible');\n}\n\nfunction hideServerMessage() {\n  const elements = getModalElements();\n  if (!elements?.serverMessage) return;\n\n  elements.serverMessage.classList.remove('rating-modal__server-message--visible');\n  if (elements.serverMessageText) {\n    elements.serverMessageText.textContent = '';\n  }\n  elements.serverMessage.classList.remove(\n    'rating-modal__server-message--error',\n    'rating-modal__server-message--success'\n  );\n}\n\nfunction getSelectedRating() {\n  const elements = getModalElements();\n  if (!elements) return 0;\n  const selected = elements.starInputs.find(input => input.checked);\n  return selected ? Number(selected.value) : 0;\n}\n\nfunction updateStars(rating) {\n  const elements = getModalElements();\n  if (!elements) return;\n\n  elements.starLabels.forEach((label, index) => {\n    if (index < rating) {\n      label.classList.add('rating-modal__star--active');\n      const path = label.querySelector('path');\n      if (path) {\n        path.setAttribute('fill', '#EEA10C');\n        path.setAttribute('stroke', '#EEA10C');\n      }\n    } else {\n      label.classList.remove('rating-modal__star--active');\n      const path = label.querySelector('path');\n      if (path) {\n        path.setAttribute('fill', 'none');\n        path.setAttribute('stroke', 'currentColor');\n      }\n    }\n  });\n}\n\nfunction updateRatingValue(value) {\n  const elements = getModalElements();\n  if (elements?.ratingValue) {\n    elements.ratingValue.textContent = value.toFixed(1);\n  }\n}\n\nfunction resetRatingForm() {\n  const elements = getModalElements();\n  if (!elements) return;\n\n  if (elements.form) elements.form.reset();\n  elements.starInputs.forEach(input => {\n    input.checked = false;\n  });\n  updateStars(0);\n  updateRatingValue(0);\n\n  hideFieldError(elements.emailInput, elements.emailError);\n  hideFieldError(elements.commentTextarea, elements.commentError);\n  hideFieldError(null, elements.ratingError);\n  hideServerMessage();\n}\n\nfunction handleClose() {\n  closeRatingModal();\n}\n\nfunction handleOverlayClick(event) {\n  if (event.target === event.currentTarget) {\n    closeRatingModal();\n  }\n}\n\nfunction handleKeydown(event) {\n  if (event.key === 'Escape') {\n    closeRatingModal();\n  }\n}\n\nfunction handleStarChange(event) {\n  const rating = Number(event.target.value);\n  updateStars(rating);\n  updateRatingValue(rating);\n  const elements = getModalElements();\n  if (elements?.ratingError) {\n    hideFieldError(null, elements.ratingError);\n  }\n}\n\nfunction handleStarHover(event) {\n  const rating = Number(event.currentTarget.dataset.rating || 0);\n  updateStars(rating);\n}\n\nfunction handleStarLeave() {\n  const selectedRating = getSelectedRating();\n  updateStars(selectedRating);\n}\n\nfunction handleEmailInput() {\n  const elements = getModalElements();\n  if (elements) {\n    hideFieldError(elements.emailInput, elements.emailError);\n  }\n}\n\nfunction handleCommentInput() {\n  const elements = getModalElements();\n  if (elements) {\n    hideFieldError(elements.commentTextarea, elements.commentError);\n  }\n}\n\nfunction handleServerMessageClose() {\n  hideServerMessage();\n}\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const elements = getModalElements();\n  if (!elements) return;\n\n  const selectedRating = getSelectedRating();\n  const email = elements.emailInput?.value.trim() || '';\n  const review = elements.commentTextarea?.value.trim() || '';\n\n  let hasErrors = false;\n\n  if (!selectedRating) {\n    showFieldError(null, elements.ratingError, 'Please select a rating');\n    hasErrors = true;\n  } else {\n    hideFieldError(null, elements.ratingError);\n  }\n\n  if (!email) {\n    showFieldError(elements.emailInput, elements.emailError, 'Please enter your email');\n    hasErrors = true;\n  } else if (!validateEmail(email)) {\n    showFieldError(\n      elements.emailInput,\n      elements.emailError,\n      'Please enter a valid email address'\n    );\n    hasErrors = true;\n  } else {\n    hideFieldError(elements.emailInput, elements.emailError);\n  }\n\n  if (!review) {\n    showFieldError(\n      elements.commentTextarea,\n      elements.commentError,\n      'Please enter your comment'\n    );\n    hasErrors = true;\n  } else {\n    hideFieldError(elements.commentTextarea, elements.commentError);\n  }\n\n  if (hasErrors || !currentExerciseIdForRating) {\n    return;\n  }\n\n  hideServerMessage();\n\n  fetch(\n    `https://your-energy.b.goit.study/api/exercises/${currentExerciseIdForRating}/rating`,\n    {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        rate: selectedRating,\n        email,\n        review,\n      }),\n    }\n  )\n    .then(async response => {\n      const data = await response.json();\n      if (!response.ok) {\n        throw { message: data.message, data };\n      }\n      return data;\n    })\n    .then(data => {\n      const exerciseName = data.name || 'the exercise';\n      const exerciseId = currentExerciseIdForRating;\n      const successCallback = onRatingSuccess;\n      closeRatingModal();\n      showGlobalNotification(\n        `Thank you, your review for exercise ${exerciseName} has been submitted`,\n        'success'\n      );\n      if (successCallback && exerciseId) {\n        successCallback(exerciseId);\n      }\n    })\n    .catch(error => {\n      const errorMessage =\n        error.message || 'Failed to submit rating. Please try again.';\n      showServerMessage(errorMessage, 'error');\n    });\n}\n\nfunction attachListeners() {\n  if (listenersAttached) return;\n  const elements = getModalElements();\n  if (!elements) return;\n\n  elements.closeBtn?.addEventListener('click', handleClose);\n  elements.overlay?.addEventListener('click', handleOverlayClick);\n  elements.serverMessageClose?.addEventListener(\n    'click',\n    handleServerMessageClose\n  );\n  elements.form?.addEventListener('submit', handleFormSubmit);\n  elements.emailInput?.addEventListener('input', handleEmailInput);\n  elements.commentTextarea?.addEventListener('input', handleCommentInput);\n  elements.starInputs.forEach(input =>\n    input.addEventListener('change', handleStarChange)\n  );\n  elements.starLabels.forEach(label => {\n    label.addEventListener('mouseenter', handleStarHover);\n    label.addEventListener('mouseleave', handleStarLeave);\n  });\n  document.addEventListener('keydown', handleKeydown);\n\n  listenersAttached = true;\n}\n\nfunction detachListeners() {\n  if (!listenersAttached) return;\n  const elements = getModalElements();\n  if (!elements) return;\n\n  elements.closeBtn?.removeEventListener('click', handleClose);\n  elements.overlay?.removeEventListener('click', handleOverlayClick);\n  elements.serverMessageClose?.removeEventListener(\n    'click',\n    handleServerMessageClose\n  );\n  elements.form?.removeEventListener('submit', handleFormSubmit);\n  elements.emailInput?.removeEventListener('input', handleEmailInput);\n  elements.commentTextarea?.removeEventListener('input', handleCommentInput);\n  elements.starInputs.forEach(input =>\n    input.removeEventListener('change', handleStarChange)\n  );\n  elements.starLabels.forEach(label => {\n    label.removeEventListener('mouseenter', handleStarHover);\n    label.removeEventListener('mouseleave', handleStarLeave);\n  });\n  document.removeEventListener('keydown', handleKeydown);\n\n  listenersAttached = false;\n}\n\nexport function openRatingModal(exerciseId, options = {}) {\n  const elements = getModalElements();\n  if (!elements) return;\n\n  currentExerciseIdForRating = exerciseId;\n  onRatingSuccess = options.onSuccess || null;\n\n  resetRatingForm();\n  attachListeners();\n\n  elements.modal.classList.add('rating-modal--open');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeRatingModal() {\n  const elements = getModalElements();\n  if (!elements) return;\n\n  detachListeners();\n\n  elements.modal.classList.remove('rating-modal--open');\n  document.body.style.overflow = '';\n  currentExerciseIdForRating = null;\n  onRatingSuccess = null;\n}\n\nexport { closeRatingModal };\n\nexport function initRatingModal() {\n  getModalElements();\n}\n","// LocalStorage key for favorites\nconst FAVORITES_KEY = 'favorites';\n\n// Get all favorite exercise IDs from LocalStorage\nexport function getFavorites() {\n  try {\n    const favorites = localStorage.getItem(FAVORITES_KEY);\n    return favorites ? JSON.parse(favorites) : [];\n  } catch (error) {\n    return [];\n  }\n}\n\n// Add exercise ID to favorites\nexport function addToFavorites(exerciseId) {\n  try {\n    const favorites = getFavorites();\n    if (!favorites.includes(exerciseId)) {\n      favorites.push(exerciseId);\n      localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\n      return true;\n    }\n    return false;\n  } catch (error) {\n    return false;\n  }\n}\n\n// Remove exercise ID from favorites\nexport function removeFromFavorites(exerciseId) {\n  try {\n    const favorites = getFavorites();\n    const filteredFavorites = favorites.filter(id => id !== exerciseId);\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(filteredFavorites));\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\n// Check if exercise is in favorites\nexport function isFavorite(exerciseId) {\n  const favorites = getFavorites();\n  return favorites.includes(exerciseId);\n}\n\n// Toggle favorite status (add if not exists, remove if exists)\nexport function toggleFavorite(exerciseId) {\n  if (isFavorite(exerciseId)) {\n    removeFromFavorites(exerciseId);\n    return false; // removed\n  } else {\n    addToFavorites(exerciseId);\n    return true; // added\n  }\n}\n\n","// Current active page\nlet currentPage = 'home';\n\nlet mobileMenu = null;\nlet burgerButton = null;\nlet closeButton = null;\n\nfunction getPageFromLocation() {\n  const bodyPage = document.body?.dataset.page;\n  if (bodyPage) return bodyPage;\n\n  const pathname = window.location.pathname;\n  if (pathname.endsWith('page-2.html')) return 'favorites';\n  return 'home';\n}\n\nfunction setActiveLinks(page) {\n  const navLinks = document.querySelectorAll('.header__nav-link');\n  navLinks.forEach(link => {\n    const linkPage = link.getAttribute('data-page');\n    if (linkPage === page) {\n      link.classList.add('header__nav-link--active');\n    } else {\n      link.classList.remove('header__nav-link--active');\n    }\n  });\n\n  const mobileNavLinks = document.querySelectorAll('.mobile-menu__nav-link');\n  mobileNavLinks.forEach(link => {\n    const linkPage = link.getAttribute('data-page');\n    if (linkPage === page) {\n      link.classList.add('mobile-menu__nav-link--active');\n    } else {\n      link.classList.remove('mobile-menu__nav-link--active');\n    }\n  });\n}\n\nfunction openMobileMenu() {\n  if (mobileMenu) {\n    mobileMenu.classList.add('is-open');\n    document.body.style.overflow = 'hidden';\n    mobileMenu.setAttribute('aria-hidden', 'false');\n  }\n  if (burgerButton) {\n    burgerButton.setAttribute('aria-expanded', 'true');\n  }\n}\n\nfunction closeMobileMenu() {\n  if (mobileMenu) {\n    mobileMenu.classList.remove('is-open');\n    document.body.style.overflow = '';\n    mobileMenu.setAttribute('aria-hidden', 'true');\n  }\n  if (burgerButton) {\n    burgerButton.setAttribute('aria-expanded', 'false');\n  }\n}\n\nexport function initHeader() {\n  currentPage = getPageFromLocation();\n  setActiveLinks(currentPage);\n\n  mobileMenu = document.querySelector('.mobile-menu');\n  burgerButton = document.querySelector('.header__burger');\n  closeButton = document.querySelector('.mobile-menu__close');\n\n  if (mobileMenu) {\n    mobileMenu.setAttribute('aria-hidden', 'true');\n  }\n\n  if (burgerButton) {\n    burgerButton.addEventListener('click', openMobileMenu);\n  }\n\n  if (closeButton) {\n    closeButton.addEventListener('click', closeMobileMenu);\n  }\n\n  const mobileNavLinks = document.querySelectorAll('.mobile-menu__nav-link');\n  mobileNavLinks.forEach(link => {\n    link.addEventListener('click', () => {\n      closeMobileMenu();\n    });\n  });\n\n  if (mobileMenu) {\n    mobileMenu.addEventListener('click', e => {\n      if (e.target === mobileMenu) {\n        closeMobileMenu();\n      }\n    });\n  }\n}\n\nexport function getCurrentPage() {\n  return currentPage;\n}\n","import { openRatingModal } from './rating-modal.js';\nimport { isFavorite, toggleFavorite } from './favorites.js';\nimport { getCurrentPage } from './header.js';\nimport { loadFavoritesExercises } from './exercises.js';\n\nlet currentExerciseIdForRating = null;\nlet listenersAttached = false;\n\nfunction getModalElements() {\n  const modal = document.getElementById('js-exercise-modal');\n  if (!modal) return null;\n\n  return {\n    modal,\n    overlay: modal.querySelector('.exercise-modal__overlay'),\n    closeBtn: document.getElementById('js-exercise-modal-close'),\n    image: document.getElementById('js-exercise-modal-image'),\n    video: document.getElementById('js-exercise-modal-video'),\n    title: document.getElementById('js-exercise-modal-title'),\n    ratingValue: modal.querySelector('.exercise-modal__rating-value'),\n    ratingStars: modal.querySelector('.exercise-modal__rating-stars'),\n    target: document.getElementById('js-exercise-modal-target'),\n    bodyPart: document.getElementById('js-exercise-modal-body-part'),\n    equipment: document.getElementById('js-exercise-modal-equipment'),\n    popular: document.getElementById('js-exercise-modal-popular'),\n    calories: document.getElementById('js-exercise-modal-calories'),\n    time: document.getElementById('js-exercise-modal-time'),\n    description: document.getElementById('js-exercise-modal-description'),\n    favoriteBtn: document.getElementById('js-exercise-modal-favorites'),\n    ratingBtn: document.getElementById('js-exercise-modal-rating-btn'),\n  };\n}\n\nfunction handleClose() {\n  closeExerciseModal();\n}\n\nfunction handleOverlayClick(event) {\n  if (event.target === event.currentTarget) {\n    closeExerciseModal();\n  }\n}\n\nfunction handleKeydown(event) {\n  if (event.key === 'Escape') {\n    closeExerciseModal();\n  }\n}\n\nfunction handleFavoriteClick() {\n  const exerciseId = currentExerciseIdForRating;\n  if (!exerciseId) return;\n\n  const wasAdded = toggleFavorite(exerciseId);\n  updateFavoriteButton(exerciseId);\n\n  if (!wasAdded && getCurrentPage() === 'favorites') {\n    closeExerciseModal();\n    loadFavoritesExercises();\n  }\n}\n\nfunction handleRatingClick() {\n  const exerciseId = currentExerciseIdForRating;\n  if (!exerciseId) return;\n\n  closeExerciseModal();\n  openRatingModal(exerciseId, {\n    onSuccess: () => openExerciseModal(exerciseId),\n  });\n}\n\nfunction attachListeners() {\n  if (listenersAttached) return;\n  const elements = getModalElements();\n  if (!elements) return;\n\n  elements.closeBtn?.addEventListener('click', handleClose);\n  elements.overlay?.addEventListener('click', handleOverlayClick);\n  elements.favoriteBtn?.addEventListener('click', handleFavoriteClick);\n  elements.ratingBtn?.addEventListener('click', handleRatingClick);\n  document.addEventListener('keydown', handleKeydown);\n\n  listenersAttached = true;\n}\n\nfunction detachListeners() {\n  if (!listenersAttached) return;\n  const elements = getModalElements();\n  if (!elements) return;\n\n  elements.closeBtn?.removeEventListener('click', handleClose);\n  elements.overlay?.removeEventListener('click', handleOverlayClick);\n  elements.favoriteBtn?.removeEventListener('click', handleFavoriteClick);\n  elements.ratingBtn?.removeEventListener('click', handleRatingClick);\n  document.removeEventListener('keydown', handleKeydown);\n\n  listenersAttached = false;\n}\n\nfunction updateFavoriteButton(exerciseId) {\n  const elements = getModalElements();\n  if (!elements?.favoriteBtn) return;\n\n  const isInFavorites = isFavorite(exerciseId);\n  const btnText = elements.favoriteBtn.querySelector('span');\n  const btnIcon = elements.favoriteBtn.querySelector('svg path');\n\n  if (isInFavorites) {\n    elements.favoriteBtn.classList.add('active');\n    if (btnText) btnText.textContent = 'Remove from favorites';\n    if (btnIcon) {\n      btnIcon.setAttribute('fill', 'currentColor');\n      btnIcon.removeAttribute('stroke');\n      btnIcon.removeAttribute('stroke-width');\n    }\n  } else {\n    elements.favoriteBtn.classList.remove('active');\n    if (btnText) btnText.textContent = 'Add to favorites';\n    if (btnIcon) {\n      btnIcon.setAttribute('fill', 'none');\n      btnIcon.setAttribute('stroke', 'currentColor');\n      btnIcon.setAttribute('stroke-width', '2');\n    }\n  }\n}\n\nexport function openExerciseModal(exerciseId) {\n  const elements = getModalElements();\n  if (!elements) return;\n\n  currentExerciseIdForRating = exerciseId;\n\n  elements.modal.classList.add('exercise-modal--open');\n  document.body.style.overflow = 'hidden';\n\n  attachListeners();\n\n  if (elements.title) elements.title.textContent = 'Loading...';\n  if (elements.ratingValue) elements.ratingValue.textContent = '0.0';\n  if (elements.target) elements.target.textContent = '';\n  if (elements.bodyPart) elements.bodyPart.textContent = '';\n  if (elements.equipment) elements.equipment.textContent = '';\n  if (elements.popular) elements.popular.textContent = '0';\n  if (elements.calories) elements.calories.textContent = '0';\n  if (elements.time) elements.time.textContent = '/0 min';\n  if (elements.description) elements.description.textContent = '';\n  if (elements.image) {\n    elements.image.src = '';\n    elements.image.classList.remove('is-hidden');\n  }\n  if (elements.video) {\n    elements.video.src = '';\n    elements.video.classList.remove('is-visible');\n    elements.video.pause();\n  }\n\n  fetch(`https://your-energy.b.goit.study/api/exercises/${exerciseId}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch exercise details');\n      }\n      return response.json();\n    })\n    .then(exercise => {\n      const videoUrl = exercise.videoUrl || exercise.video || exercise.videoURL;\n\n      if (videoUrl && elements.video) {\n        elements.video.src = videoUrl;\n        elements.video.classList.add('is-visible');\n        if (elements.image) {\n          elements.image.classList.add('is-hidden');\n        }\n      } else if (elements.image) {\n        elements.image.src = exercise.gifUrl || '';\n      }\n\n      if (elements.title) elements.title.textContent = exercise.name || '';\n      if (elements.target) elements.target.textContent = exercise.target || '';\n      if (elements.bodyPart)\n        elements.bodyPart.textContent = exercise.bodyPart || '';\n      if (elements.equipment)\n        elements.equipment.textContent = exercise.equipment || '';\n      if (elements.popular)\n        elements.popular.textContent = exercise.popularity || 0;\n      if (elements.calories)\n        elements.calories.textContent = exercise.burnedCalories || 0;\n      if (elements.time)\n        elements.time.textContent = `/${exercise.time || 0} min`;\n      if (elements.description)\n        elements.description.textContent = exercise.description || '';\n\n      if (elements.ratingValue) {\n        elements.ratingValue.textContent = (exercise.rating || 0).toFixed(1);\n      }\n\n      if (elements.ratingStars) {\n        const stars = elements.ratingStars.querySelectorAll(\n          '.exercise-modal__rating-star'\n        );\n        const rating = Math.round(exercise.rating || 0);\n\n        stars.forEach((star, index) => {\n          const path = star.querySelector('path');\n          if (index < rating) {\n            path.setAttribute('fill', '#EEA10C');\n            path.removeAttribute('stroke');\n            path.removeAttribute('stroke-width');\n          } else {\n            path.setAttribute('fill', 'none');\n            path.setAttribute('stroke', 'rgba(255,255,255,0.3)');\n            path.setAttribute('stroke-width', '1.5');\n          }\n        });\n      }\n\n      updateFavoriteButton(exerciseId);\n    })\n    .catch(() => {\n      if (elements.title) elements.title.textContent = 'Error loading exercise';\n      if (elements.description)\n        elements.description.textContent =\n          'Failed to load exercise details. Please try again later.';\n    });\n}\n\nexport function closeExerciseModal() {\n  const elements = getModalElements();\n  if (!elements) return;\n\n  detachListeners();\n\n  elements.modal.classList.remove('exercise-modal--open');\n  document.body.style.overflow = '';\n  currentExerciseIdForRating = null;\n\n  if (elements.video) {\n    elements.video.pause();\n    elements.video.src = '';\n    elements.video.classList.remove('is-visible');\n  }\n}\n\nexport function initExerciseModal() {\n  getModalElements();\n}\n","import { openExerciseModal } from './exercise-modal.js';\nimport { getFavorites, removeFromFavorites } from './favorites.js';\n\n// Глобальні змінні для фільтра та сторінки\nlet currentFilter = 'Muscles';\nlet currentPage = 1;\nlet currentCategory = null;\nlet currentSearchKeyword = '';\nlet currentMode = 'home'; // 'home' або 'favorites'\nconst FILTERS_LIMIT = 12;\nconst EXERCISES_LIMIT = 10;\n\n// Функція для показу поля пошуку\nfunction showSearchField() {\n  const searchField = document.getElementById('js-exercises-search');\n  if (searchField) {\n    searchField.style.display = 'flex';\n  }\n}\n\n// Функція для приховування поля пошуку\nfunction hideSearchField() {\n  const searchField = document.getElementById('js-exercises-search');\n  const searchInput = document.getElementById('js-exercises-search-input');\n  if (searchField) {\n    searchField.style.display = 'none';\n  }\n  if (searchInput) {\n    searchInput.value = '';\n  }\n  currentSearchKeyword = '';\n}\n\n// Функція для ініціалізації слухача подій на контейнері карток (event delegation)\nexport function initCardsEventListener() {\n  const cardsContainer = document.querySelector(\n    '.exercises__content__main__cards'\n  );\n\n  if (!cardsContainer) {\n    return;\n  }\n\n  // Один слухач на весь контейнер замість багатьох на кожній картці\n  cardsContainer.addEventListener('click', event => {\n    // Знаходимо найближчу картку від місця кліку\n    const card = event.target.closest('.exercises__content__main__cards-item');\n\n    const removeButton = event.target.closest(\n      '[data-action=\"remove-favorite\"]'\n    );\n    if (removeButton) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (currentMode === 'favorites' && card) {\n        const exerciseId = card.getAttribute('data-exercise-id');\n        if (exerciseId) {\n          removeFromFavorites(exerciseId);\n          loadFavoritesExercises();\n        }\n      }\n      return;\n    }\n\n    if (!card) {\n      return;\n    }\n\n    // Перевіряємо, чи це картка категорії\n    const categoryName = card.getAttribute('data-category-name');\n    if (categoryName) {\n      loadExercisesByCategory(categoryName);\n      return;\n    }\n\n    // Перевіряємо, чи це картка вправи\n    const exerciseId = card.getAttribute('data-exercise-id');\n    if (exerciseId) {\n      openExerciseModal(exerciseId);\n      return;\n    }\n  });\n}\n\n// Функція для створення HTML картки категорії\nfunction createExerciseCard(exercise) {\n  return `\n    <div class=\"exercises__content__main__cards-item\" data-category-name=\"${exercise.name}\">\n      <div class=\"exercises__content__main__cards-item-image\">\n        <img src=\"${exercise.imgURL}\" alt=\"${exercise.name} exercise\" loading=\"lazy\" decoding=\"async\" />\n        <div class=\"exercises__content__main__cards-item-overlay\">\n          <div class=\"exercises__content__main__cards-item-overlay-name\">${exercise.name}</div>\n          <div class=\"exercises__content__main__cards-item-overlay-category\">${exercise.filter}</div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Функція для створення HTML картки вправи\nfunction createExerciseItemCard(exercise) {\n  const rating = exercise.rating || 0;\n  const burnedCalories = exercise.burnedCalories || 0;\n  const time = exercise.time || 0;\n  const bodyPart = exercise.bodyPart || '';\n  const target = exercise.target || '';\n  const exerciseId = exercise._id || '';\n\n  const removeButtonHTML =\n    currentMode === 'favorites'\n      ? `\n    <button class=\"exercises__content__main__cards-item-remove\" type=\"button\" data-action=\"remove-favorite\" aria-label=\"Remove from favorites\">\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M3 6H21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n        <path d=\"M8 6V4H16V6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        <path d=\"M19 6L18 20H6L5 6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        <path d=\"M10 10V16\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n        <path d=\"M14 10V16\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n      </svg>\n    </button>\n  `\n      : '';\n\n  return `\n    <div class=\"exercises__content__main__cards-item exercises__content__main__cards-item--exercise\" data-exercise-id=\"${exerciseId}\">\n      <div class=\"exercises__content__main__cards-item-header\">\n        <button class=\"exercises__content__main__cards-item-workout-btn\">WORKOUT</button>\n        <div class=\"exercises__content__main__cards-item-rating\">\n          <span class=\"exercises__content__main__cards-item-rating-value\">${rating.toFixed(\n            1\n          )}</span>\n          <svg class=\"exercises__content__main__cards-item-rating-star\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M9 0L11.0206 6.21885L17.5595 6.21885L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885L6.97937 6.21885L9 0Z\" fill=\"#EEA10C\"/>\n          </svg>\n        </div>\n        <button class=\"exercises__content__main__cards-item-start-btn\">\n          Start\n          <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M6.75 4.5L11.25 9L6.75 13.5\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>\n        </button>\n      </div>\n      <div class=\"exercises__content__main__cards-item-body\">\n        <div class=\"exercises__content__main__cards-item-icon\">\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M12 2L2 7L12 12L22 7L12 2Z\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M2 17L12 22L22 17\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            <path d=\"M2 12L12 17L22 12\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>\n        </div>\n        <h3 class=\"exercises__content__main__cards-item-title\">${\n          exercise.name\n        }</h3>\n      </div>\n      <div class=\"exercises__content__main__cards-item-footer\">\n        <div class=\"exercises__content__main__cards-item-info\">\n          <span class=\"exercises__content__main__cards-item-info-label\">Burned calories:</span>\n          <span class=\"exercises__content__main__cards-item-info-value\">${burnedCalories}</span>\n          <span class=\"exercises__content__main__cards-item-info-label\">/ ${time} min</span>\n        </div>\n        <div class=\"exercises__content__main__cards-item-info\">\n          <span class=\"exercises__content__main__cards-item-info-label\">Body part:</span>\n          <span class=\"exercises__content__main__cards-item-info-value\">${bodyPart}</span>\n        </div>\n        <div class=\"exercises__content__main__cards-item-info\">\n          <span class=\"exercises__content__main__cards-item-info-label\">Target:</span>\n          <span class=\"exercises__content__main__cards-item-info-value\">${target}</span>\n        </div>\n      </div>\n      ${removeButtonHTML}\n    </div>\n  `;\n}\n\n// Функція для рендерингу карток категорій\nfunction renderExerciseCards(exercises) {\n  const cardsContainer = document.querySelector(\n    '.exercises__content__main__cards'\n  );\n\n  if (!cardsContainer) {\n    return;\n  }\n\n  // Видаляємо клас для карток вправ (якщо був)\n  cardsContainer.classList.remove('exercises__content__main__cards--exercises');\n\n  // Очищаємо контейнер\n  cardsContainer.innerHTML = '';\n\n  // Рендеримо кожну картку\n  exercises.forEach(exercise => {\n    const cardHTML = createExerciseCard(exercise);\n    cardsContainer.insertAdjacentHTML('beforeend', cardHTML);\n  });\n}\n\n// Функція для рендерингу карток вправ\nfunction renderExerciseItemCards(exercises) {\n  const cardsContainer = document.querySelector(\n    '.exercises__content__main__cards'\n  );\n\n  if (!cardsContainer) {\n    return;\n  }\n\n  // Додаємо клас для карток вправ\n  cardsContainer.classList.add('exercises__content__main__cards--exercises');\n\n  // Очищаємо контейнер\n  cardsContainer.innerHTML = '';\n\n  // Рендеримо кожну картку\n  exercises.forEach(exercise => {\n    const cardHTML = createExerciseItemCard(exercise);\n    cardsContainer.insertAdjacentHTML('beforeend', cardHTML);\n  });\n}\n\n// Функція для відображення empty state\nfunction renderEmptyState() {\n  const cardsContainer = document.querySelector(\n    '.exercises__content__main__cards'\n  );\n\n  if (!cardsContainer) {\n    return;\n  }\n\n  // Додаємо клас для карток вправ\n  cardsContainer.classList.add('exercises__content__main__cards--exercises');\n\n  // Очищаємо контейнер\n  cardsContainer.innerHTML = '';\n\n  // Додаємо empty state\n  const emptyStateHTML = `\n    <div class=\"exercises__content__main__empty-state\">\n      <p class=\"exercises__content__main__empty-state-text\">\n        Unfortunately, no results were found. You may want to consider other search options.\n      </p>\n    </div>\n  `;\n\n  cardsContainer.insertAdjacentHTML('beforeend', emptyStateHTML);\n}\n\n// Функція для відображення empty state для категорій\nfunction renderCategoriesEmptyState() {\n  const cardsContainer = document.querySelector(\n    '.exercises__content__main__cards'\n  );\n\n  if (!cardsContainer) {\n    return;\n  }\n\n  cardsContainer.classList.remove('exercises__content__main__cards--exercises');\n  cardsContainer.innerHTML = '';\n\n  const emptyStateHTML = `\n    <div class=\"exercises__content__main__empty-state\">\n      <p class=\"exercises__content__main__empty-state-text\">\n        Unfortunately, no categories were found for this filter.\n      </p>\n    </div>\n  `;\n\n  cardsContainer.insertAdjacentHTML('beforeend', emptyStateHTML);\n}\n\n// Функція для оновлення breadcrumbs\nexport function updateBreadcrumbs(categoryName = null) {\n  const breadcrumbsContainer = document.getElementById(\n    'js-exercises-breadcrumbs'\n  );\n\n  if (!breadcrumbsContainer) {\n    return;\n  }\n\n  breadcrumbsContainer.innerHTML = '';\n\n  // Якщо режим Favorites - показуємо тільки заголовок \"Favorites\"\n  if (currentMode === 'favorites') {\n    const favoritesTitle = document.createElement('button');\n    favoritesTitle.className =\n      'exercises__content__header-breadcrumbs-item exercises__content__header-breadcrumbs-item--active';\n    favoritesTitle.textContent = 'Favorites';\n    favoritesTitle.setAttribute('data-breadcrumb', 'favorites');\n    breadcrumbsContainer.appendChild(favoritesTitle);\n    return;\n  }\n\n  // Завжди додаємо \"Exercises\"\n  const exercisesBtn = document.createElement('button');\n  exercisesBtn.className = 'exercises__content__header-breadcrumbs-item';\n  exercisesBtn.textContent = 'Exercises';\n  exercisesBtn.setAttribute('data-breadcrumb', 'exercises');\n\n  if (!categoryName) {\n    exercisesBtn.classList.add(\n      'exercises__content__header-breadcrumbs-item--active'\n    );\n  }\n\n  exercisesBtn.addEventListener('click', () => {\n    currentCategory = null;\n    currentPage = 1;\n    loadExerciseCards(currentFilter, currentPage);\n  });\n\n  breadcrumbsContainer.appendChild(exercisesBtn);\n\n  // Якщо є категорія, додаємо її\n  if (categoryName) {\n    const separator = document.createElement('span');\n    separator.className = 'exercises__content__header-breadcrumbs-separator';\n    separator.textContent = '/';\n    breadcrumbsContainer.appendChild(separator);\n\n    const categoryBtn = document.createElement('button');\n    categoryBtn.className =\n      'exercises__content__header-breadcrumbs-item exercises__content__header-breadcrumbs-item--active';\n    categoryBtn.textContent = categoryName;\n    breadcrumbsContainer.appendChild(categoryBtn);\n  }\n}\n\n// Функція для рендерингу пагінації\nfunction renderPagination(totalPages, page = 1) {\n  const paginationContainer = document.querySelector(\n    '.exercises__content__pagination'\n  );\n\n  if (!paginationContainer) {\n    return;\n  }\n\n  // Очищаємо контейнер\n  paginationContainer.innerHTML = '';\n\n  // Якщо лише одна сторінка - не відображаємо пагінацію\n  if (totalPages === 1) {\n    return;\n  }\n\n  // Функція для переходу на сторінку\n  const goToPage = pageNumber => {\n    currentPage = pageNumber;\n    if (currentCategory) {\n      loadExercisesByCategory(currentCategory, pageNumber);\n    } else {\n      loadExerciseCards(currentFilter, pageNumber);\n    }\n  };\n\n  // Кнопка \"На першу сторінку\"\n  const firstButton = document.createElement('button');\n  firstButton.className = 'exercises__content__pagination-arrow';\n  firstButton.innerHTML = '&laquo;';\n  firstButton.disabled = page === 1;\n  firstButton.addEventListener('click', () => goToPage(1));\n  paginationContainer.appendChild(firstButton);\n\n  // Кнопка \"Попередня сторінка\"\n  const prevButton = document.createElement('button');\n  prevButton.className = 'exercises__content__pagination-arrow';\n  prevButton.innerHTML = '&lsaquo;';\n  prevButton.disabled = page === 1;\n  prevButton.addEventListener('click', () => goToPage(page - 1));\n  paginationContainer.appendChild(prevButton);\n\n  // Функція для створення кнопки сторінки\n  const createPageButton = pageNumber => {\n    const pageButton = document.createElement('button');\n    pageButton.className = 'exercises__content__pagination-page';\n    pageButton.textContent = pageNumber;\n\n    if (pageNumber === page) {\n      pageButton.classList.add('exercises__content__pagination-page--active');\n    }\n\n    pageButton.addEventListener('click', () => goToPage(pageNumber));\n    return pageButton;\n  };\n\n  // Логіка відображення номерів сторінок\n  if (totalPages <= 5) {\n    // Відображаємо всі сторінки\n    for (let i = 1; i <= totalPages; i++) {\n      paginationContainer.appendChild(createPageButton(i));\n    }\n  } else {\n    // Відображаємо 1, 2, 3, ..., передостання, остання\n    paginationContainer.appendChild(createPageButton(1));\n    paginationContainer.appendChild(createPageButton(2));\n    paginationContainer.appendChild(createPageButton(3));\n\n    // Додаємо ellipsis\n    const ellipsis = document.createElement('span');\n    ellipsis.className = 'exercises__content__pagination-ellipsis';\n    ellipsis.textContent = '...';\n    paginationContainer.appendChild(ellipsis);\n\n    // Передостання сторінка\n    paginationContainer.appendChild(createPageButton(totalPages - 1));\n\n    // Остання сторінка\n    paginationContainer.appendChild(createPageButton(totalPages));\n  }\n\n  // Кнопка \"Наступна сторінка\"\n  const nextButton = document.createElement('button');\n  nextButton.className = 'exercises__content__pagination-arrow';\n  nextButton.innerHTML = '&rsaquo;';\n  nextButton.disabled = page === totalPages;\n  nextButton.addEventListener('click', () => goToPage(page + 1));\n  paginationContainer.appendChild(nextButton);\n\n  // Кнопка \"На останню сторінку\"\n  const lastButton = document.createElement('button');\n  lastButton.className = 'exercises__content__pagination-arrow';\n  lastButton.innerHTML = '&raquo;';\n  lastButton.disabled = page === totalPages;\n  lastButton.addEventListener('click', () => goToPage(totalPages));\n  paginationContainer.appendChild(lastButton);\n}\n\n// Функція для завантаження карток категорій\nexport function loadExerciseCards(filter, page = 1) {\n  currentFilter = filter;\n  currentPage = page;\n\n  // Приховуємо поле пошуку при переході до списку категорій\n  hideSearchField();\n\n  // Кодуємо параметри для безпечного передавання в URL\n  const encodedFilter = encodeURIComponent(filter);\n  const url = `https://your-energy.b.goit.study/api/filters?filter=${encodedFilter}&page=${page}&limit=${FILTERS_LIMIT}`;\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      // Припускаємо, що API повертає масив exercises або об'єкт з полем results/exercises\n      const exercises = data.results || data.exercises || data || [];\n\n      // Отримуємо загальну кількість сторінок\n      const totalPages =\n        data.totalPages || data.total_pages || data.pageCount || 1;\n\n      currentCategory = null; // Скидаємо поточну категорію\n\n      if (Array.isArray(exercises) && exercises.length > 0) {\n        updateBreadcrumbs(null);\n        renderExerciseCards(exercises);\n        renderPagination(totalPages, page);\n      } else {\n        updateBreadcrumbs(null);\n        renderCategoriesEmptyState();\n        renderPagination(1, 1);\n      }\n    })\n    .catch(() => {\n      updateBreadcrumbs(null);\n      renderCategoriesEmptyState();\n      renderPagination(1, 1);\n    });\n}\n\n// Функція для завантаження вправ за категорією\nexport function loadExercisesByCategory(\n  categoryName,\n  page = 1,\n  keyword = currentSearchKeyword\n) {\n  currentCategory = categoryName;\n  currentPage = page;\n  currentSearchKeyword = keyword;\n\n  // Показуємо поле пошуку\n  showSearchField();\n\n  // Визначаємо параметр залежно від типу фільтра\n  let paramName = '';\n  if (currentFilter === 'Muscles') {\n    paramName = 'muscles';\n  } else if (currentFilter === 'Body parts') {\n    paramName = 'bodypart';\n  } else if (currentFilter === 'Equipment') {\n    paramName = 'equipment';\n  }\n\n  // Кодуємо параметри для безпечного передавання в URL\n  const encodedCategory = encodeURIComponent(categoryName);\n  let url = `https://your-energy.b.goit.study/api/exercises?${paramName}=${encodedCategory}&page=${page}&limit=${EXERCISES_LIMIT}`;\n\n  // Додаємо параметр пошуку якщо він є\n  if (keyword && keyword.trim() !== '') {\n    const encodedKeyword = encodeURIComponent(keyword.trim());\n    url += `&keyword=${encodedKeyword}`;\n  }\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      // Отримуємо масив вправ\n      const exercises = data.results || [];\n\n      // Отримуємо загальну кількість сторінок\n      const totalPages = data.totalPages || 1;\n\n      updateBreadcrumbs(categoryName);\n\n      if (Array.isArray(exercises) && exercises.length > 0) {\n        renderExerciseItemCards(exercises);\n        renderPagination(totalPages, page);\n      } else {\n        // Показуємо empty state\n        renderEmptyState();\n        // Приховуємо пагінацію\n        const paginationContainer = document.querySelector(\n          '.exercises__content__pagination'\n        );\n        if (paginationContainer) {\n          paginationContainer.innerHTML = '';\n        }\n      }\n    })\n    .catch(() => {\n      renderEmptyState();\n      const paginationContainer = document.querySelector(\n        '.exercises__content__pagination'\n      );\n      if (paginationContainer) {\n        paginationContainer.innerHTML = '';\n      }\n    });\n}\n\n// Функція для ініціалізації обробників пошуку\nexport function initSearch() {\n  const searchForm = document.getElementById('js-exercises-search');\n  const searchInput = document.getElementById('js-exercises-search-input');\n\n  if (!searchForm || !searchInput) {\n    return;\n  }\n\n  searchForm.addEventListener('submit', event => {\n    event.preventDefault();\n    const keyword = searchInput.value.trim();\n    if (currentCategory) {\n      loadExercisesByCategory(currentCategory, 1, keyword);\n    }\n  });\n}\n\n// Функція для відображення empty state для favorites\nfunction renderFavoritesEmptyState() {\n  const cardsContainer = document.querySelector(\n    '.exercises__content__main__cards'\n  );\n\n  if (!cardsContainer) {\n    return;\n  }\n\n  // Додаємо клас для карток вправ\n  cardsContainer.classList.add('exercises__content__main__cards--exercises');\n\n  // Очищаємо контейнер\n  cardsContainer.innerHTML = '';\n\n  // Додаємо empty state\n  const emptyStateHTML = `\n    <div class=\"exercises__content__main__empty-state\">\n      <p class=\"exercises__content__main__empty-state-text\">\n        It appears that you haven't added any exercises to your favorites yet. \n        To get started, you can add exercises that you like to your favorites \n        for easier access in the future.\n      </p>\n    </div>\n  `;\n\n  cardsContainer.insertAdjacentHTML('beforeend', emptyStateHTML);\n}\n\n// Функція для завантаження вправ з обраного\nexport function loadFavoritesExercises() {\n  const favoriteIds = getFavorites();\n\n  // Оновлюємо breadcrumbs\n  updateBreadcrumbs(null);\n\n  // Приховуємо пагінацію\n  const paginationContainer = document.querySelector(\n    '.exercises__content__pagination'\n  );\n  if (paginationContainer) {\n    paginationContainer.innerHTML = '';\n  }\n\n  // Якщо немає обраних вправ\n  if (favoriteIds.length === 0) {\n    renderFavoritesEmptyState();\n    return;\n  }\n\n  // Завантажуємо деталі кожної вправи\n  const promises = favoriteIds.map(id =>\n    fetch(`https://your-energy.b.goit.study/api/exercises/${id}`)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Failed to fetch exercise');\n        }\n        return response.json();\n      })\n      .catch(error => {\n        return null;\n      })\n  );\n\n  Promise.all(promises).then(exercises => {\n    // Фільтруємо null значення (вправи, які не вдалося завантажити)\n    const validExercises = exercises.filter(ex => ex !== null);\n\n    if (validExercises.length > 0) {\n      renderExerciseItemCards(validExercises);\n    } else {\n      renderFavoritesEmptyState();\n    }\n  });\n}\n\n// Функція для перемикання в режим Home\nexport function switchToHome() {\n  currentMode = 'home';\n  currentCategory = null;\n  currentSearchKeyword = '';\n\n  // Показуємо фільтри\n  const filtersContainer = document.querySelector(\n    '.exercises__content__header-filters'\n  );\n  if (filtersContainer) {\n    filtersContainer.style.display = 'flex';\n  }\n\n  // Видаляємо клас favorites з контейнера\n  const contentContainer = document.querySelector('.exercises__content');\n  if (contentContainer) {\n    contentContainer.classList.remove('exercises__content--favorites');\n  }\n\n  // Завантажуємо стандартні картки\n  loadExerciseCards(currentFilter, 1);\n}\n\n// Функція для перемикання в режим Favorites\nexport function switchToFavorites() {\n  currentMode = 'favorites';\n  currentCategory = null;\n  currentSearchKeyword = '';\n\n  // Приховуємо фільтри та пошук\n  const filtersContainer = document.querySelector(\n    '.exercises__content__header-filters'\n  );\n  if (filtersContainer) {\n    filtersContainer.style.display = 'none';\n  }\n\n  hideSearchField();\n\n  // Додаємо клас favorites до контейнера\n  const contentContainer = document.querySelector('.exercises__content');\n  if (contentContainer) {\n    contentContainer.classList.add('exercises__content--favorites');\n  }\n\n  // Завантажуємо обрані вправи\n  loadFavoritesExercises();\n}\n","// Helper function to get today's date in YYYY-MM-DD format\nfunction getTodayDate() {\n  const today = new Date();\n  const year = today.getFullYear();\n  const month = String(today.getMonth() + 1).padStart(2, '0');\n  const day = String(today.getDate()).padStart(2, '0');\n  return `${year}-${month}-${day}`;\n}\n\n// Function to load quote data with caching logic\nasync function loadQuoteOfTheDay() {\n  const cachedQuoteText = localStorage.getItem('quote-text');\n  const cachedQuoteAuthor = localStorage.getItem('quote-author');\n  const cachedQuoteDate = localStorage.getItem('quote-date');\n  const todayDate = getTodayDate();\n\n  // Check if cached data exists\n  if (cachedQuoteText && cachedQuoteAuthor && cachedQuoteDate) {\n    // Compare dates\n    if (cachedQuoteDate === todayDate) {\n      // Return cached data if date matches\n      return { quote: cachedQuoteText, author: cachedQuoteAuthor };\n    }\n  }\n\n  // Fetch new quote from API\n  try {\n    const response = await fetch('https://your-energy.b.goit.study/api/quote');\n    const data = await response.json();\n\n    // Save to localStorage\n    localStorage.setItem('quote-text', data.quote);\n    localStorage.setItem('quote-author', data.author);\n    localStorage.setItem('quote-date', todayDate);\n\n    // Return the quote data\n    return { quote: data.quote, author: data.author };\n  } catch (error) {\n    // If fetch fails but we have cached data, use it\n    if (cachedQuoteText && cachedQuoteAuthor) {\n      return { quote: cachedQuoteText, author: cachedQuoteAuthor };\n    }\n\n    // Return null if no data available\n    return null;\n  }\n}\n\n// Function to display quote in DOM\nexport async function displayQuote() {\n  const quoteData = await loadQuoteOfTheDay();\n\n  if (!quoteData) {\n    return;\n  }\n\n  const quoteTextElement = document.getElementById('js-exercises-quote-text');\n  const quoteAuthorElement = document.getElementById(\n    'js-exercises-quote-author'\n  );\n\n  if (quoteTextElement) {\n    quoteTextElement.textContent = quoteData.quote;\n  }\n\n  if (quoteAuthorElement) {\n    quoteAuthorElement.textContent = quoteData.author;\n  }\n}\n","import {\n  loadExerciseCards,\n  switchToHome,\n  switchToFavorites,\n  initSearch,\n  initCardsEventListener,\n} from './js/exercises.js';\nimport { initExerciseModal } from './js/exercise-modal.js';\nimport { initRatingModal } from './js/rating-modal.js';\nimport {\n  initGlobalNotification,\n  showGlobalNotification,\n} from './js/global-notification.js';\nimport {\n  showFieldError,\n  hideFieldError,\n  validateEmail,\n} from './js/form-validation.js';\nimport { initHeader } from './js/header.js';\nimport { displayQuote } from './js/quote.js';\n\n// Функція для відправки запиту на оформлення підписки\nasync function subscribeToNewsletter(email) {\n  try {\n    const response = await fetch(\n      'https://your-energy.b.goit.study/api/subscription',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          email: email.trim(),\n        }),\n      }\n    );\n\n    const data = await response.json().catch(() => null);\n\n    if (!response.ok) {\n      const message = data?.message || 'Failed to subscribe';\n      throw new Error(message);\n    }\n\n    return { success: true, data };\n  } catch (error) {\n    return { success: false, error: error.message };\n  }\n}\n\n// Початкове завантаження та ініціалізація\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Load and display quote of the day\n  displayQuote();\n  // Ініціалізація модалок\n  initExerciseModal();\n  initRatingModal();\n\n  // Ініціалізація глобальних повідомлень\n  initGlobalNotification();\n\n  // Ініціалізація хедера\n  initHeader();\n\n  // Ініціалізація пошуку\n  initSearch();\n\n  // Ініціалізація слухача подій на контейнері карток (event delegation)\n  initCardsEventListener();\n\n  const initialPage = document.body?.dataset.page || 'home';\n  if (initialPage === 'favorites') {\n    switchToFavorites();\n  } else {\n    switchToHome();\n  }\n\n  // Обробка кліків на фільтри\n  const filterButtons = document.querySelectorAll(\n    '.exercises__content__header-filters-item'\n  );\n\n  filterButtons.forEach(button => {\n    button.addEventListener('click', () => {\n      // Видаляємо активний клас з усіх кнопок\n      filterButtons.forEach(btn => {\n        btn.classList.remove('exercises__content__header-filters-item--active');\n        btn.setAttribute('aria-pressed', 'false');\n      });\n\n      // Додаємо активний клас до натиснутої кнопки\n      button.classList.add('exercises__content__header-filters-item--active');\n      button.setAttribute('aria-pressed', 'true');\n\n      // Отримуємо значення фільтра\n      const filter = button.getAttribute('data-filter');\n      // Завантажуємо нові картки\n      loadExerciseCards(filter, 1);\n    });\n  });\n\n  // Обробка форми підписки\n  const subscribeForm = document.getElementById('subscribeForm');\n  const subscribeEmailInput = document.getElementById('subscribeEmail');\n  const subscribeEmailError = document.getElementById('subscribeEmailError');\n\n  // Clear error on input\n  if (subscribeEmailInput && subscribeEmailError) {\n    subscribeEmailInput.addEventListener('input', () => {\n      hideFieldError(subscribeEmailInput, subscribeEmailError);\n    });\n  }\n\n  if (subscribeForm) {\n    subscribeForm.addEventListener('submit', async e => {\n      e.preventDefault();\n\n      const email = subscribeEmailInput?.value.trim() || '';\n      let hasErrors = false;\n\n      // Validate email\n      if (!email) {\n        showFieldError(\n          subscribeEmailInput,\n          subscribeEmailError,\n          'Please enter your email address'\n        );\n        hasErrors = true;\n      } else if (!validateEmail(email)) {\n        showFieldError(\n          subscribeEmailInput,\n          subscribeEmailError,\n          'Please enter a valid email address'\n        );\n        hasErrors = true;\n      } else {\n        hideFieldError(subscribeEmailInput, subscribeEmailError);\n      }\n\n      // Stop if there are errors\n      if (hasErrors) {\n        return;\n      }\n\n      const result = await subscribeToNewsletter(email);\n\n      if (result.success) {\n        showGlobalNotification(result.data.message, 'success');\n        subscribeForm.reset();\n        hideFieldError(subscribeEmailInput, subscribeEmailError);\n      } else {\n        showGlobalNotification(result.error, 'error');\n      }\n    });\n  }\n});\n"],"names":["notificationTimeout","showGlobalNotification","message","type","notification","textElement","hideGlobalNotification","initGlobalNotification","closeBtn","showFieldError","inputElement","errorElement","errorClass","hideFieldError","validateEmail","email","currentExerciseIdForRating","onRatingSuccess","listenersAttached","getModalElements","modal","showServerMessage","elements","hideServerMessage","getSelectedRating","selected","input","updateStars","rating","label","index","path","updateRatingValue","value","resetRatingForm","handleClose","closeRatingModal","handleOverlayClick","event","handleKeydown","handleStarChange","handleStarHover","handleStarLeave","selectedRating","handleEmailInput","handleCommentInput","handleServerMessageClose","handleFormSubmit","_a","review","_b","hasErrors","response","data","exerciseName","exerciseId","successCallback","error","errorMessage","attachListeners","_c","_d","_e","_f","detachListeners","openRatingModal","options","initRatingModal","FAVORITES_KEY","getFavorites","favorites","addToFavorites","removeFromFavorites","filteredFavorites","id","isFavorite","toggleFavorite","currentPage","mobileMenu","burgerButton","closeButton","getPageFromLocation","bodyPage","setActiveLinks","page","link","openMobileMenu","closeMobileMenu","initHeader","e","getCurrentPage","closeExerciseModal","handleFavoriteClick","wasAdded","updateFavoriteButton","loadFavoritesExercises","handleRatingClick","openExerciseModal","isInFavorites","btnText","btnIcon","exercise","videoUrl","stars","star","initExerciseModal","currentFilter","currentCategory","currentSearchKeyword","currentMode","FILTERS_LIMIT","EXERCISES_LIMIT","showSearchField","searchField","hideSearchField","searchInput","initCardsEventListener","cardsContainer","card","categoryName","loadExercisesByCategory","createExerciseCard","createExerciseItemCard","burnedCalories","time","bodyPart","target","removeButtonHTML","renderExerciseCards","exercises","cardHTML","renderExerciseItemCards","renderEmptyState","renderCategoriesEmptyState","updateBreadcrumbs","breadcrumbsContainer","favoritesTitle","exercisesBtn","loadExerciseCards","separator","categoryBtn","renderPagination","totalPages","paginationContainer","goToPage","pageNumber","firstButton","prevButton","createPageButton","pageButton","i","ellipsis","nextButton","lastButton","filter","url","keyword","paramName","encodedCategory","encodedKeyword","initSearch","searchForm","renderFavoritesEmptyState","favoriteIds","promises","validExercises","ex","switchToHome","filtersContainer","contentContainer","switchToFavorites","getTodayDate","today","year","month","day","loadQuoteOfTheDay","cachedQuoteText","cachedQuoteAuthor","cachedQuoteDate","todayDate","displayQuote","quoteData","quoteTextElement","quoteAuthorElement","subscribeToNewsletter","filterButtons","button","btn","subscribeForm","subscribeEmailInput","subscribeEmailError","result"],"mappings":"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"}