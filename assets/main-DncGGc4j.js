(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();let g=null;function H(e,t="success"){const n=document.getElementById("js-global-notification"),r=document.getElementById("js-global-notification-text");!n||!r||(g&&(clearTimeout(g),g=null),r.textContent=e,n.classList.remove("global-notification--error"),t==="error"&&n.classList.add("global-notification--error"),n.classList.add("global-notification--visible"),g=setTimeout(()=>{Z()},3e3))}function Z(){const e=document.getElementById("js-global-notification"),t=document.getElementById("js-global-notification-text");e&&(g&&(clearTimeout(g),g=null),e.classList.remove("global-notification--visible"),setTimeout(()=>{t&&(t.textContent=""),e.classList.remove("global-notification--error")},300))}function ye(){const e=document.getElementById("js-global-notification-close");e&&e.addEventListener("click",Z)}function h(e,t,n){if(e){const r=e.classList.contains("rating-modal__textarea")?"rating-modal__textarea--error":e.classList.contains("rating-modal__input")?"rating-modal__input--error":e.classList.contains("footer__subscribe-form-input")?"footer__subscribe-form-input--error":"form-field--error";e.classList.add(r)}t&&(t.textContent=n,t.classList.add("form-error--visible"))}function m(e,t){e&&e.classList.remove("rating-modal__input--error","rating-modal__textarea--error","footer__subscribe-form-input--error","form-field--error"),t&&(t.textContent="",t.classList.remove("form-error--visible"))}function z(e){return/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e)}let b=null,N=null,B=!1;function d(){const e=document.getElementById("js-rating-modal");return e?{modal:e,overlay:e.querySelector(".rating-modal__overlay"),closeBtn:document.getElementById("js-rating-modal-close"),serverMessage:document.getElementById("js-rating-server-message"),serverMessageText:document.getElementById("js-rating-server-message-text"),serverMessageClose:document.getElementById("js-rating-server-message-close"),ratingValue:document.getElementById("js-rating-modal-value"),ratingError:document.getElementById("js-rating-error"),form:document.getElementById("js-rating-modal-form"),emailInput:document.getElementById("js-rating-modal-email"),emailError:document.getElementById("js-email-error"),commentTextarea:document.getElementById("js-rating-modal-comment"),commentError:document.getElementById("js-comment-error"),starInputs:Array.from(e.querySelectorAll(".rating-modal__star-input")),starLabels:Array.from(e.querySelectorAll(".rating-modal__star"))}:null}function xe(e,t="error"){const n=d();!(n!=null&&n.serverMessage)||!n.serverMessageText||(n.serverMessageText.textContent=e,n.serverMessage.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"),n.serverMessage.classList.add(`rating-modal__server-message--${t}`),n.serverMessage.classList.add("rating-modal__server-message--visible"))}function R(){const e=d();e!=null&&e.serverMessage&&(e.serverMessage.classList.remove("rating-modal__server-message--visible"),e.serverMessageText&&(e.serverMessageText.textContent=""),e.serverMessage.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"))}function G(){const e=d();if(!e)return 0;const t=e.starInputs.find(n=>n.checked);return t?Number(t.value):0}function M(e){const t=d();t&&t.starLabels.forEach((n,r)=>{if(r<e){n.classList.add("rating-modal__star--active");const s=n.querySelector("path");s&&(s.setAttribute("fill","#EEA10C"),s.setAttribute("stroke","#EEA10C"))}else{n.classList.remove("rating-modal__star--active");const s=n.querySelector("path");s&&(s.setAttribute("fill","none"),s.setAttribute("stroke","currentColor"))}})}function Y(e){const t=d();t!=null&&t.ratingValue&&(t.ratingValue.textContent=e.toFixed(1))}function be(){const e=d();e&&(e.form&&e.form.reset(),e.starInputs.forEach(t=>{t.checked=!1}),M(0),Y(0),m(e.emailInput,e.emailError),m(e.commentTextarea,e.commentError),m(null,e.ratingError),R())}function W(){A()}function X(e){e.target===e.currentTarget&&A()}function ee(e){e.key==="Escape"&&A()}function te(e){const t=Number(e.target.value);M(t),Y(t);const n=d();n!=null&&n.ratingError&&m(null,n.ratingError)}function ne(e){const t=Number(e.currentTarget.dataset.rating||0);M(t)}function re(){const e=G();M(e)}function se(){const e=d();e&&m(e.emailInput,e.emailError)}function ie(){const e=d();e&&m(e.commentTextarea,e.commentError)}function oe(){R()}function ae(e){var o,a;e.preventDefault();const t=d();if(!t)return;const n=G(),r=((o=t.emailInput)==null?void 0:o.value.trim())||"",s=((a=t.commentTextarea)==null?void 0:a.value.trim())||"";let i=!1;n?m(null,t.ratingError):(h(null,t.ratingError,"Please select a rating"),i=!0),r?z(r)?m(t.emailInput,t.emailError):(h(t.emailInput,t.emailError,"Please enter a valid email address"),i=!0):(h(t.emailInput,t.emailError,"Please enter your email"),i=!0),s?m(t.commentTextarea,t.commentError):(h(t.commentTextarea,t.commentError,"Please enter your comment"),i=!0),!(i||!b)&&(R(),fetch(`https://your-energy.b.goit.study/api/exercises/${b}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate:n,email:r,review:s})}).then(async l=>{const c=await l.json();if(!l.ok)throw{message:c.message,data:c};return c}).then(l=>{const c=l.name||"the exercise",f=b,U=N;A(),H(`Thank you, your review for exercise ${c} has been submitted`,"success"),U&&f&&U(f)}).catch(l=>{const c=l.message||"Failed to submit rating. Please try again.";xe(c,"error")}))}function Ee(){var t,n,r,s,i,o;if(B)return;const e=d();e&&((t=e.closeBtn)==null||t.addEventListener("click",W),(n=e.overlay)==null||n.addEventListener("click",X),(r=e.serverMessageClose)==null||r.addEventListener("click",oe),(s=e.form)==null||s.addEventListener("submit",ae),(i=e.emailInput)==null||i.addEventListener("input",se),(o=e.commentTextarea)==null||o.addEventListener("input",ie),e.starInputs.forEach(a=>a.addEventListener("change",te)),e.starLabels.forEach(a=>{a.addEventListener("mouseenter",ne),a.addEventListener("mouseleave",re)}),document.addEventListener("keydown",ee),B=!0)}function Le(){var t,n,r,s,i,o;if(!B)return;const e=d();e&&((t=e.closeBtn)==null||t.removeEventListener("click",W),(n=e.overlay)==null||n.removeEventListener("click",X),(r=e.serverMessageClose)==null||r.removeEventListener("click",oe),(s=e.form)==null||s.removeEventListener("submit",ae),(i=e.emailInput)==null||i.removeEventListener("input",se),(o=e.commentTextarea)==null||o.removeEventListener("input",ie),e.starInputs.forEach(a=>a.removeEventListener("change",te)),e.starLabels.forEach(a=>{a.removeEventListener("mouseenter",ne),a.removeEventListener("mouseleave",re)}),document.removeEventListener("keydown",ee),B=!1)}function Ce(e,t={}){const n=d();n&&(b=e,N=t.onSuccess||null,be(),Ee(),n.modal.classList.add("rating-modal--open"),document.body.style.overflow="hidden")}function A(){const e=d();e&&(Le(),e.modal.classList.remove("rating-modal--open"),document.body.style.overflow="",b=null,N=null)}function ke(){d()}const O="favorites";function T(){try{const e=localStorage.getItem(O);return e?JSON.parse(e):[]}catch{return[]}}function we(e){try{const t=T();return t.includes(e)?!1:(t.push(e),localStorage.setItem(O,JSON.stringify(t)),!0)}catch{return!1}}function ce(e){try{const n=T().filter(r=>r!==e);return localStorage.setItem(O,JSON.stringify(n)),!0}catch{return!1}}function le(e){return T().includes(e)}function Ie(e){return le(e)?(ce(e),!1):(we(e),!0)}let P="home",u=null,v=null,F=null;function Be(){var n;const e=(n=document.body)==null?void 0:n.dataset.page;return e||(window.location.pathname.endsWith("favorites.html")?"favorites":"home")}function Se(e){document.querySelectorAll(".header__nav-link").forEach(r=>{r.getAttribute("data-page")===e?(r.classList.add("header__nav-link--active"),r.setAttribute("aria-current","page")):(r.classList.remove("header__nav-link--active"),r.removeAttribute("aria-current"))}),document.querySelectorAll(".mobile-menu__nav-link").forEach(r=>{r.getAttribute("data-page")===e?(r.classList.add("mobile-menu__nav-link--active"),r.setAttribute("aria-current","page")):(r.classList.remove("mobile-menu__nav-link--active"),r.removeAttribute("aria-current"))})}function Me(){u&&(u.classList.add("is-open"),document.body.style.overflow="hidden",u.setAttribute("aria-hidden","false")),v&&v.setAttribute("aria-expanded","true")}function $(){u&&(u.classList.remove("is-open"),document.body.style.overflow="",u.setAttribute("aria-hidden","true")),v&&v.setAttribute("aria-expanded","false")}function Ae(){P=Be(),Se(P),u=document.querySelector(".mobile-menu"),v=document.querySelector(".header__burger"),F=document.querySelector(".mobile-menu__close"),u&&u.setAttribute("aria-hidden","true"),v&&v.addEventListener("click",Me),F&&F.addEventListener("click",$),document.querySelectorAll(".mobile-menu__nav-link").forEach(t=>{t.addEventListener("click",()=>{$()})}),u&&u.addEventListener("click",t=>{t.target===u&&$()})}function Te(){return P}let q=null,S=!1;function y(){const e=document.getElementById("js-exercise-modal");return e?{modal:e,overlay:e.querySelector(".exercise-modal__overlay"),closeBtn:document.getElementById("js-exercise-modal-close"),image:document.getElementById("js-exercise-modal-image"),video:document.getElementById("js-exercise-modal-video"),title:document.getElementById("js-exercise-modal-title"),ratingValue:e.querySelector(".exercise-modal__rating-value"),ratingStars:e.querySelector(".exercise-modal__rating-stars"),target:document.getElementById("js-exercise-modal-target"),bodyPart:document.getElementById("js-exercise-modal-body-part"),equipment:document.getElementById("js-exercise-modal-equipment"),popular:document.getElementById("js-exercise-modal-popular"),calories:document.getElementById("js-exercise-modal-calories"),time:document.getElementById("js-exercise-modal-time"),description:document.getElementById("js-exercise-modal-description"),favoriteBtn:document.getElementById("js-exercise-modal-favorites"),ratingBtn:document.getElementById("js-exercise-modal-rating-btn")}:null}function de(){k()}function ue(e){e.target===e.currentTarget&&k()}function me(e){e.key==="Escape"&&k()}function _e(){const e=q;if(!e)return;const t=Ie(e);ge(e),!t&&Te()==="favorites"&&(k(),D())}function fe(){const e=q;e&&(k(),Ce(e,{onSuccess:()=>ve(e)}))}function qe(){var t,n,r,s;if(S)return;const e=y();e&&((t=e.closeBtn)==null||t.addEventListener("click",de),(n=e.overlay)==null||n.addEventListener("click",ue),(r=e.favoriteBtn)==null||r.addEventListener("click",_e),(s=e.ratingBtn)==null||s.addEventListener("click",fe),document.addEventListener("keydown",me),S=!0)}function je(){var t,n,r,s;if(!S)return;const e=y();e&&((t=e.closeBtn)==null||t.removeEventListener("click",de),(n=e.overlay)==null||n.removeEventListener("click",ue),(r=e.favoriteBtn)==null||r.removeEventListener("click",_e),(s=e.ratingBtn)==null||s.removeEventListener("click",fe),document.removeEventListener("keydown",me),S=!1)}function ge(e){const t=y();if(!(t!=null&&t.favoriteBtn))return;const n=le(e),r=t.favoriteBtn.querySelector("span"),s=t.favoriteBtn.querySelector("svg path");n?(t.favoriteBtn.classList.add("active"),r&&(r.textContent="Remove from favorites"),s&&(s.setAttribute("fill","currentColor"),s.removeAttribute("stroke"),s.removeAttribute("stroke-width"))):(t.favoriteBtn.classList.remove("active"),r&&(r.textContent="Add to favorites"),s&&(s.setAttribute("fill","none"),s.setAttribute("stroke","currentColor"),s.setAttribute("stroke-width","2")))}function ve(e){const t=y();t&&(q=e,t.modal.classList.add("exercise-modal--open"),document.body.style.overflow="hidden",qe(),t.title&&(t.title.textContent="Loading..."),t.ratingValue&&(t.ratingValue.textContent="0.0"),t.target&&(t.target.textContent=""),t.bodyPart&&(t.bodyPart.textContent=""),t.equipment&&(t.equipment.textContent=""),t.popular&&(t.popular.textContent="0"),t.calories&&(t.calories.textContent="0"),t.time&&(t.time.textContent="/0 min"),t.description&&(t.description.textContent=""),t.image&&(t.image.src="",t.image.classList.remove("is-hidden")),t.video&&(t.video.src="",t.video.classList.remove("is-visible"),t.video.pause()),fetch(`https://your-energy.b.goit.study/api/exercises/${e}`).then(n=>{if(!n.ok)throw new Error("Failed to fetch exercise details");return n.json()}).then(n=>{const r=n.videoUrl||n.video||n.videoURL;if(r&&t.video?(t.video.src=r,t.video.classList.add("is-visible"),t.image&&t.image.classList.add("is-hidden")):t.image&&(t.image.src=n.gifUrl||""),t.title&&(t.title.textContent=n.name||""),t.target&&(t.target.textContent=n.target||""),t.bodyPart&&(t.bodyPart.textContent=n.bodyPart||""),t.equipment&&(t.equipment.textContent=n.equipment||""),t.popular&&(t.popular.textContent=n.popularity||0),t.calories&&(t.calories.textContent=n.burnedCalories||0),t.time&&(t.time.textContent=`/${n.time||0} min`),t.description&&(t.description.textContent=n.description||""),t.ratingValue&&(t.ratingValue.textContent=(n.rating||0).toFixed(1)),t.ratingStars){const s=t.ratingStars.querySelectorAll(".exercise-modal__rating-star"),i=Math.round(n.rating||0);s.forEach((o,a)=>{const l=o.querySelector("path");a<i?(l.setAttribute("fill","#EEA10C"),l.removeAttribute("stroke"),l.removeAttribute("stroke-width")):(l.setAttribute("fill","none"),l.setAttribute("stroke","rgba(255,255,255,0.3)"),l.setAttribute("stroke-width","1.5"))})}ge(e)}).catch(()=>{t.title&&(t.title.textContent="Error loading exercise"),t.description&&(t.description.textContent="Failed to load exercise details. Please try again later.")}))}function k(){const e=y();e&&(je(),e.modal.classList.remove("exercise-modal--open"),document.body.style.overflow="",q=null,e.video&&(e.video.pause(),e.video.src="",e.video.classList.remove("is-visible")))}function Fe(){y()}let p="Muscles",L=1,_=null,C="",w="home";const $e=12,He=10;function Pe(){const e=document.getElementById("js-exercises-search");e&&e.classList.remove("exercises__content__header-search--hidden")}function pe(){const e=document.getElementById("js-exercises-search"),t=document.getElementById("js-exercises-search-input");e&&e.classList.add("exercises__content__header-search--hidden"),t&&(t.value=""),C=""}function Ne(){const e=document.querySelector(".exercises__content__main__cards");e&&e.addEventListener("click",t=>{const n=t.target.closest(".exercises__content__main__cards-item");if(t.target.closest('[data-action="remove-favorite"]')){if(t.preventDefault(),t.stopPropagation(),w==="favorites"&&n){const o=n.getAttribute("data-exercise-id");o&&(ce(o),D())}return}if(!n)return;const s=n.getAttribute("data-category-name");if(s){V(s);return}const i=n.getAttribute("data-exercise-id");if(i){ve(i);return}})}function Re(e){return`
    <div class="exercises__content__main__cards-item" data-category-name="${e.name}">
      <div class="exercises__content__main__cards-item-image">
        <img src="${e.imgURL}" alt="${e.name} exercise" loading="lazy" decoding="async" />
        <div class="exercises__content__main__cards-item-overlay">
          <div class="exercises__content__main__cards-item-overlay-name">${e.name}</div>
          <div class="exercises__content__main__cards-item-overlay-category">${e.filter}</div>
        </div>
      </div>
    </div>
  `}function Oe(e){const t=e.rating||0,n=e.burnedCalories||0,r=e.time||0,s=e.bodyPart||"",i=e.target||"",o=e._id||"",a=w==="favorites"?`
    <button class="exercises__content__main__cards-item-remove" type="button" data-action="remove-favorite" aria-label="Remove from favorites">
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 6H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M8 6V4H16V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M19 6L18 20H6L5 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M10 10V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M14 10V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>
  `:"";return`
    <div class="exercises__content__main__cards-item exercises__content__main__cards-item--exercise" data-exercise-id="${o}">
      <div class="exercises__content__main__cards-item-header">
        <button class="exercises__content__main__cards-item-workout-btn">WORKOUT</button>
        <div class="exercises__content__main__cards-item-rating">
          <span class="exercises__content__main__cards-item-rating-value">${t.toFixed(1)}</span>
          <svg class="exercises__content__main__cards-item-rating-star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 0L11.0206 6.21885L17.5595 6.21885L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885L6.97937 6.21885L9 0Z" fill="#EEA10C"/>
          </svg>
        </div>
        <button class="exercises__content__main__cards-item-start-btn">
          Start
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.75 4.5L11.25 9L6.75 13.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
      <div class="exercises__content__main__cards-item-body">
        <div class="exercises__content__main__cards-item-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 17L12 22L22 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 12L12 17L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h3 class="exercises__content__main__cards-item-title">${e.name}</h3>
      </div>
      <div class="exercises__content__main__cards-item-footer">
        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Burned calories:</span>
          <span class="exercises__content__main__cards-item-info-value">${n}</span>
          <span class="exercises__content__main__cards-item-info-label">/ ${r} min</span>
        </div>
        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Body part:</span>
          <span class="exercises__content__main__cards-item-info-value">${s}</span>
        </div>
        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Target:</span>
          <span class="exercises__content__main__cards-item-info-value">${i}</span>
        </div>
      </div>
      ${a}
    </div>
  `}function Ve(e){const t=document.querySelector(".exercises__content__main__cards");t&&(t.classList.remove("exercises__content__main__cards--exercises"),t.innerHTML="",e.forEach(n=>{const r=Re(n);t.insertAdjacentHTML("beforeend",r)}))}function he(e){const t=document.querySelector(".exercises__content__main__cards");t&&(t.classList.add("exercises__content__main__cards--exercises"),t.innerHTML="",e.forEach(n=>{const r=Oe(n);t.insertAdjacentHTML("beforeend",r)}))}function K(){const e=document.querySelector(".exercises__content__main__cards");if(!e)return;e.classList.add("exercises__content__main__cards--exercises"),e.innerHTML="",e.insertAdjacentHTML("beforeend",`
    <div class="exercises__content__main__empty-state">
      <p class="exercises__content__main__empty-state-text">
        Unfortunately, no results were found. You may want to consider other search options.
      </p>
    </div>
  `)}function J(){const e=document.querySelector(".exercises__content__main__cards");if(!e)return;e.classList.remove("exercises__content__main__cards--exercises"),e.innerHTML="",e.insertAdjacentHTML("beforeend",`
    <div class="exercises__content__main__empty-state">
      <p class="exercises__content__main__empty-state-text">
        Unfortunately, no categories were found for this filter.
      </p>
    </div>
  `)}function De(e){if(!e)return"";const t=e.trim();return t?t.charAt(0).toUpperCase()+t.slice(1):e}function x(e){const t=document.createElement("li");return t.className="exercises__content__header-breadcrumbs-entry",t.appendChild(e),t}function E(e=null){const t=document.getElementById("js-exercises-breadcrumbs");if(!t)return;if(t.innerHTML="",w==="favorites"){const i=document.createElement("span");i.className="exercises__content__header-title exercises__content__header-breadcrumbs-current",i.textContent="Favorites",i.setAttribute("aria-current","page"),t.appendChild(x(i));return}if(!e){const i=document.createElement("span");i.className="exercises__content__header-title exercises__content__header-breadcrumbs-current",i.textContent="Exercises",i.setAttribute("aria-current","page"),t.appendChild(x(i));return}const n=document.createElement("button");n.className="exercises__content__header-title exercises__content__header-breadcrumbs-item",n.textContent="Exercises",n.setAttribute("data-breadcrumb","exercises"),n.type="button",n.addEventListener("click",()=>{_=null,L=1,j(p,L)}),t.appendChild(x(n));const r=document.createElement("span");r.className="exercises__content__header-breadcrumbs-separator",r.textContent="/",r.setAttribute("aria-hidden","true"),t.appendChild(x(r));const s=document.createElement("span");s.className="exercises__content__header-breadcrumbs-current",s.textContent=De(e),s.setAttribute("aria-current","page"),t.appendChild(x(s))}function I(e,t=1){const n=document.querySelector(".exercises__content__pagination");if(!n||(n.innerHTML="",e===1))return;const r=c=>{L=c,_?V(_,c):j(p,c)},s=document.createElement("button");s.className="exercises__content__pagination-arrow",s.innerHTML="&laquo;",s.disabled=t===1,s.addEventListener("click",()=>r(1)),n.appendChild(s);const i=document.createElement("button");i.className="exercises__content__pagination-arrow",i.innerHTML="&lsaquo;",i.disabled=t===1,i.addEventListener("click",()=>r(t-1)),n.appendChild(i);const o=c=>{const f=document.createElement("button");return f.className="exercises__content__pagination-page",f.textContent=c,c===t&&f.classList.add("exercises__content__pagination-page--active"),f.addEventListener("click",()=>r(c)),f};if(e<=5)for(let c=1;c<=e;c++)n.appendChild(o(c));else{n.appendChild(o(1)),n.appendChild(o(2)),n.appendChild(o(3));const c=document.createElement("span");c.className="exercises__content__pagination-ellipsis",c.textContent="...",n.appendChild(c),n.appendChild(o(e-1)),n.appendChild(o(e))}const a=document.createElement("button");a.className="exercises__content__pagination-arrow",a.innerHTML="&rsaquo;",a.disabled=t===e,a.addEventListener("click",()=>r(t+1)),n.appendChild(a);const l=document.createElement("button");l.className="exercises__content__pagination-arrow",l.innerHTML="&raquo;",l.disabled=t===e,l.addEventListener("click",()=>r(e)),n.appendChild(l)}function j(e,t=1){p=e,L=t,pe();const r=`https://your-energy.b.goit.study/api/filters?filter=${encodeURIComponent(e)}&page=${t}&limit=${$e}`;fetch(r).then(s=>s.json()).then(s=>{const i=s.results||s.exercises||s||[],o=s.totalPages||s.total_pages||s.pageCount||1;_=null,Array.isArray(i)&&i.length>0?(E(null),Ve(i),I(o,t)):(E(null),J(),I(1,1))}).catch(()=>{E(null),J(),I(1,1)})}function V(e,t=1,n=C){_=e,L=t,C=n,Pe();let r="";p==="Muscles"?r="muscles":p==="Body parts"?r="bodypart":p==="Equipment"&&(r="equipment");const s=encodeURIComponent(e);let i=`https://your-energy.b.goit.study/api/exercises?${r}=${s}&page=${t}&limit=${He}`;if(n&&n.trim()!==""){const o=encodeURIComponent(n.trim());i+=`&keyword=${o}`}fetch(i).then(o=>o.json()).then(o=>{const a=o.results||[],l=o.totalPages||1;if(E(e),Array.isArray(a)&&a.length>0)he(a),I(l,t);else{K();const c=document.querySelector(".exercises__content__pagination");c&&(c.innerHTML="")}}).catch(()=>{K();const o=document.querySelector(".exercises__content__pagination");o&&(o.innerHTML="")})}function Ue(){const e=document.getElementById("js-exercises-search"),t=document.getElementById("js-exercises-search-input");!e||!t||e.addEventListener("submit",n=>{n.preventDefault();const r=t.value.trim();_&&V(_,1,r)})}function Q(){const e=document.querySelector(".exercises__content__main__cards");if(!e)return;e.classList.add("exercises__content__main__cards--exercises"),e.innerHTML="",e.insertAdjacentHTML("beforeend",`
    <div class="exercises__content__main__empty-state">
      <p class="exercises__content__main__empty-state-text">
        It appears that you haven't added any exercises to your favorites yet. 
        To get started, you can add exercises that you like to your favorites 
        for easier access in the future.
      </p>
    </div>
  `)}function D(){const e=T();E(null);const t=document.querySelector(".exercises__content__pagination");if(t&&(t.innerHTML=""),e.length===0){Q();return}const n=e.map(r=>fetch(`https://your-energy.b.goit.study/api/exercises/${r}`).then(s=>{if(!s.ok)throw new Error("Failed to fetch exercise");return s.json()}).catch(s=>null));Promise.all(n).then(r=>{const s=r.filter(i=>i!==null);s.length>0?he(s):Q()})}function Ke(){w="home",_=null,C="";const e=document.querySelector(".exercises__content");e&&e.classList.remove("exercises__content--favorites"),j(p,1)}function Je(){w="favorites",_=null,C="",pe();const e=document.querySelector(".exercises__content");e&&e.classList.add("exercises__content--favorites"),D()}function Qe(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}async function Ze(){const e=localStorage.getItem("quote-text"),t=localStorage.getItem("quote-author"),n=localStorage.getItem("quote-date"),r=Qe();if(e&&t&&n&&n===r)return{quote:e,author:t};try{const i=await(await fetch("https://your-energy.b.goit.study/api/quote")).json();return localStorage.setItem("quote-text",i.quote),localStorage.setItem("quote-author",i.author),localStorage.setItem("quote-date",r),{quote:i.quote,author:i.author}}catch{return e&&t?{quote:e,author:t}:null}}async function ze(){const e=await Ze();if(!e)return;const t=document.getElementById("js-exercises-quote-text"),n=document.getElementById("js-exercises-quote-author");t&&(t.textContent=e.quote),n&&(n.textContent=e.author)}async function Ge(e){try{const t=await fetch("https://your-energy.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.trim()})}),n=await t.json().catch(()=>null);if(!t.ok){const r=(n==null?void 0:n.message)||"Failed to subscribe";throw new Error(r)}return{success:!0,data:n}}catch(t){return{success:!1,error:t.message}}}document.addEventListener("DOMContentLoaded",()=>{var i;ze(),Fe(),ke(),ye(),Ae(),Ue(),Ne(),(((i=document.body)==null?void 0:i.dataset.page)||"home")==="favorites"?Je():Ke();const t=document.querySelectorAll(".exercises__content__header-filters-item");t.forEach(o=>{o.addEventListener("click",()=>{t.forEach(l=>{l.classList.remove("exercises__content__header-filters-item--active"),l.setAttribute("aria-pressed","false")}),o.classList.add("exercises__content__header-filters-item--active"),o.setAttribute("aria-pressed","true");const a=o.getAttribute("data-filter");j(a,1)})});const n=document.getElementById("subscribeForm"),r=document.getElementById("subscribeEmail"),s=document.getElementById("subscribeEmailError");r&&s&&r.addEventListener("input",()=>{m(r,s)}),n&&n.addEventListener("submit",async o=>{o.preventDefault();const a=(r==null?void 0:r.value.trim())||"";let l=!1;if(a?z(a)?m(r,s):(h(r,s,"Please enter a valid email address"),l=!0):(h(r,s,"Please enter your email address"),l=!0),l)return;const c=await Ge(a);c.success?(H(c.data.message,"success"),n.reset(),m(r,s)):H(c.error,"error")})});
//# sourceMappingURL=main-DncGGc4j.js.map
