(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();let S=null;function I(e,t="success"){const r=document.getElementById("js-global-notification"),n=document.getElementById("js-global-notification-text");!r||!n||(S&&(clearTimeout(S),S=null),n.textContent=e,r.classList.remove("global-notification--error"),t==="error"&&r.classList.add("global-notification--error"),r.classList.add("global-notification--visible"),S=setTimeout(()=>{Ce()},3e3))}function Ce(){const e=document.getElementById("js-global-notification"),t=document.getElementById("js-global-notification-text");e&&(S&&(clearTimeout(S),S=null),e.classList.remove("global-notification--visible"),setTimeout(()=>{t&&(t.textContent=""),e.classList.remove("global-notification--error")},300))}function at(){const e=document.getElementById("js-global-notification-close");e&&e.addEventListener("click",Ce)}function B(e,t,r){if(e){const n=e.classList.contains("rating-modal__textarea")?"rating-modal__textarea--error":e.classList.contains("rating-modal__input")?"rating-modal__input--error":e.classList.contains("footer__subscribe-form-input")?"footer__subscribe-form-input--error":"form-field--error";e.classList.add(n)}t&&(t.textContent=r,t.classList.add("form-error--visible"))}function h(e,t){e&&e.classList.remove("rating-modal__input--error","rating-modal__textarea--error","footer__subscribe-form-input--error","form-field--error"),t&&(t.textContent="",t.classList.remove("form-error--visible"))}function Ie(e){return/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e)}const ct="https://your-energy.b.goit.study/api",lt=1e4,ut=(e,t={})=>{const r=e.startsWith("/")?e:`/${e}`,n=new URL(`${ct}${r}`),s=new URLSearchParams;Object.entries(t).forEach(([i,a])=>{a==null||a===""||s.set(i,a)});const o=s.toString();return o&&(n.search=o),n.toString()},F=async(e,{params:t,signal:r,timeoutMs:n=lt,...s}={})=>{const o=ut(e,t),i=new AbortController,a=new Headers(s.headers||{}),c=s.body!==void 0&&s.body!==null;let m=!1;c&&!a.has("Content-Type")&&a.set("Content-Type","application/json"),r&&(r.aborted?i.abort():r.addEventListener("abort",()=>i.abort(),{once:!0}));const _=n&&Number.isFinite(n)?setTimeout(()=>{m=!0,i.abort()},n):null;let g;try{g=await fetch(o,{...s,headers:a,signal:i.signal})}catch(w){if(_&&clearTimeout(_),(w==null?void 0:w.name)==="AbortError"&&m){const V=new Error("Request timed out.");throw V.name="TimeoutError",V}throw w}finally{_&&clearTimeout(_)}const ot=g.headers.get("content-type")||"";let v=null;if(g.status!==204&&(ot.includes("application/json")?v=await g.json().catch(()=>null):v=await g.text().catch(()=>null)),!g.ok){const w=typeof v=="string"?v.slice(0,200):v&&typeof v=="object"?JSON.stringify(v).slice(0,200):"",V=v&&typeof v=="object"&&v.message||w||g.statusText||"Request failed",ee=new Error(`${V} (status ${g.status})`);throw ee.status=g.status,ee.data=v,ee}return v},dt=(e={})=>F("/quote",e),mt=({filter:e,page:t=1,limit:r=12,signal:n,timeoutMs:s}={})=>F("/filters",{params:{filter:e,page:t,limit:r},signal:n,timeoutMs:s}),ft=({page:e=1,limit:t=8,signal:r,timeoutMs:n,...s}={})=>F("/exercises",{params:{...s,page:e,limit:t},signal:r,timeoutMs:n}),Se=(e,t={})=>F(`/exercises/${e}`,t),_t=(e,t,r={})=>F(`/exercises/${e}/rating`,{method:"PATCH",body:JSON.stringify(t),...r}),gt=(e,t={})=>F("/subscription",{method:"POST",body:JSON.stringify({email:e}),...t}),P="scrollLockCount",l={activeId:null,lastFocusedElement:null,focusableElements:[],handlers:new Map,keydownAttached:!1};let R=null,ue=null,J=!1;function vt(){const e=document.body;if(!e)return;const t=Number(e.dataset[P]||0)+1;e.dataset[P]=String(t),t===1&&(e.style.overflow="hidden")}function ht(){const e=document.body;if(!e)return;const t=Number(e.dataset[P]||0)-1;if(t<=0){delete e.dataset[P],e.style.overflow="";return}e.dataset[P]=String(t)}function pt(e){const t=["button:not([disabled])","a[href]","input:not([disabled])","textarea:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(e.querySelectorAll(t.join(","))).filter(r=>!r.hasAttribute("aria-hidden"))}function xt(e){if(e.key!=="Tab"||l.focusableElements.length===0)return;const t=l.focusableElements[0],r=l.focusableElements[l.focusableElements.length-1];if(e.shiftKey&&document.activeElement===t){e.preventDefault(),r.focus();return}!e.shiftKey&&document.activeElement===r&&(e.preventDefault(),t.focus())}function Ae(e){if(l.activeId){if(e.key==="Escape"){ie(l.activeId);return}xt(e)}}function we(e){const t=e.classList[0];return t?`${t}--open`:"is-open"}function ie(e){const t=l.handlers.get(e);if(t!=null&&t.onClose){t.onClose();return}de(e)}function Be(e,{onClose:t}={}){var i;const r=document.getElementById(e);if(!r)return null;if(l.activeId===e)return r;l.activeId&&l.activeId!==e&&ie(l.activeId);const n=we(r);l.activeId=e,l.lastFocusedElement=document.activeElement,l.focusableElements=pt(r),r.classList.add(n),r.setAttribute("aria-hidden","false"),vt(),l.keydownAttached||(document.addEventListener("keydown",Ae),l.keydownAttached=!0);const s=r.querySelector('[class$="__overlay"]'),o=a=>{a.target===a.currentTarget&&ie(e)};return s&&s.addEventListener("click",o),l.handlers.set(e,{overlay:s,overlayHandler:o,openClass:n,onClose:t}),(i=l.focusableElements[0])==null||i.focus(),r}function de(e,t={}){const r=document.getElementById(e);if(!r)return null;const{restoreFocus:n=!0,preserveScroll:s=!1}=t,o=l.handlers.get(e),i=(o==null?void 0:o.openClass)||we(r);return r.classList.remove(i),r.setAttribute("aria-hidden","true"),o!=null&&o.overlay&&(o!=null&&o.overlayHandler)&&o.overlay.removeEventListener("click",o.overlayHandler),l.handlers.delete(e),s||ht(),n&&l.lastFocusedElement&&typeof l.lastFocusedElement.focus=="function"&&document.contains(l.lastFocusedElement)&&l.lastFocusedElement.focus(),l.activeId===e&&(l.activeId=null,l.focusableElements=[],l.lastFocusedElement=null),!l.activeId&&l.keydownAttached&&(document.removeEventListener("keydown",Ae),l.keydownAttached=!1),r}function f(){const e=document.getElementById("js-rating-modal");return e?{modal:e,closeBtn:document.getElementById("js-rating-modal-close"),serverMessage:document.getElementById("js-rating-server-message"),serverMessageText:document.getElementById("js-rating-server-message-text"),serverMessageClose:document.getElementById("js-rating-server-message-close"),ratingValue:document.getElementById("js-rating-modal-value"),ratingError:document.getElementById("js-rating-error"),form:document.getElementById("js-rating-modal-form"),emailInput:document.getElementById("rating-email"),emailError:document.getElementById("js-email-error"),commentTextarea:document.getElementById("rating-comment"),commentError:document.getElementById("js-comment-error"),starInputs:Array.from(e.querySelectorAll(".rating-modal__star-input")),starLabels:Array.from(e.querySelectorAll(".rating-modal__star"))}:null}function yt(e,t="error"){const r=f();!(r!=null&&r.serverMessage)||!r.serverMessageText||(r.serverMessageText.textContent=e,r.serverMessage.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"),r.serverMessage.classList.add(`rating-modal__server-message--${t}`),r.serverMessage.classList.add("rating-modal__server-message--visible"))}function me(){const e=f();e!=null&&e.serverMessage&&(e.serverMessage.classList.remove("rating-modal__server-message--visible"),e.serverMessageText&&(e.serverMessageText.textContent=""),e.serverMessage.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"))}function ke(){const e=f();if(!e)return 0;const t=e.starInputs.find(r=>r.checked);return t?Number(t.value):0}function G(e){const t=f();t&&t.starLabels.forEach((r,n)=>{if(n<e){r.classList.add("rating-modal__star--active");const s=r.querySelector("path");s&&(s.setAttribute("fill","#EEA10C"),s.setAttribute("stroke","#EEA10C"))}else{r.classList.remove("rating-modal__star--active");const s=r.querySelector("path");s&&(s.setAttribute("fill","none"),s.setAttribute("stroke","currentColor"))}})}function qe(e){const t=f();t!=null&&t.ratingValue&&(t.ratingValue.textContent=e.toFixed(1))}function bt(){const e=f();e&&(e.form&&e.form.reset(),e.starInputs.forEach(t=>{t.checked=!1}),G(0),qe(0),h(e.emailInput,e.emailError),h(e.commentTextarea,e.commentError),h(null,e.ratingError),me())}function Me(){fe()}function Fe(e){const t=Number(e.target.value);G(t),qe(t);const r=f();r!=null&&r.ratingError&&h(null,r.ratingError)}function Te(e){const t=Number(e.currentTarget.dataset.rating||0);G(t)}function je(){const e=ke();G(e)}function $e(){const e=f();e&&h(e.emailInput,e.emailError)}function Pe(){const e=f();e&&h(e.commentTextarea,e.commentError)}function Re(){me()}async function Oe(e){var i,a;e.preventDefault();const t=f();if(!t)return;const r=ke(),n=((i=t.emailInput)==null?void 0:i.value.trim())||"",s=((a=t.commentTextarea)==null?void 0:a.value.trim())||"";let o=!1;if(r?h(null,t.ratingError):(B(null,t.ratingError,"Please select a rating"),o=!0),n?Ie(n)?h(t.emailInput,t.emailError):(B(t.emailInput,t.emailError,"Please enter a valid email address"),o=!0):(B(t.emailInput,t.emailError,"Please enter your email"),o=!0),s?h(t.commentTextarea,t.commentError):(B(t.commentTextarea,t.commentError,"Please enter your comment"),o=!0),!(o||!R)){me();try{const c=await _t(R,{rate:r,email:n,review:s}),m=(c==null?void 0:c.name)||"the exercise",_=R,g=ue;fe(),I(`Thank you, your review for exercise ${m} has been submitted`,"success"),g&&_&&g(_)}catch(c){const m=c.message||"Failed to submit rating. Please try again.";yt(m,"error")}}}function Et(){var t,r,n,s,o;if(J)return;const e=f();e&&((t=e.closeBtn)==null||t.addEventListener("click",Me),(r=e.serverMessageClose)==null||r.addEventListener("click",Re),(n=e.form)==null||n.addEventListener("submit",Oe),(s=e.emailInput)==null||s.addEventListener("input",$e),(o=e.commentTextarea)==null||o.addEventListener("input",Pe),e.starInputs.forEach(i=>i.addEventListener("change",Fe)),e.starLabels.forEach(i=>{i.addEventListener("mouseenter",Te),i.addEventListener("mouseleave",je)}),J=!0)}function Lt(){var t,r,n,s,o;if(!J)return;const e=f();e&&((t=e.closeBtn)==null||t.removeEventListener("click",Me),(r=e.serverMessageClose)==null||r.removeEventListener("click",Re),(n=e.form)==null||n.removeEventListener("submit",Oe),(s=e.emailInput)==null||s.removeEventListener("input",$e),(o=e.commentTextarea)==null||o.removeEventListener("input",Pe),e.starInputs.forEach(i=>i.removeEventListener("change",Fe)),e.starLabels.forEach(i=>{i.removeEventListener("mouseenter",Te),i.removeEventListener("mouseleave",je)}),J=!1)}function Ct(e,t={}){f()&&(R=e,ue=t.onSuccess||null,bt(),Et(),Be("js-rating-modal",{onClose:fe}))}function fe(){f()&&(Lt(),de("js-rating-modal"),R=null,ue=null)}function It(){const e=f();e!=null&&e.modal&&e.modal.setAttribute("aria-hidden","true")}const Ne="your-energy:favorites",oe="favorites";function ye(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}function z(){try{const e=ye(localStorage.getItem(Ne),null),t=new Set;if(Array.isArray(e))return e.forEach(n=>{n!=null&&n!==""&&t.add(String(n))}),t;const r=ye(localStorage.getItem(oe),null);return Array.isArray(r)&&(r.forEach(n=>{n!=null&&n!==""&&t.add(String(n))}),_e(t),localStorage.removeItem(oe)),t}catch{return new Set}}function _e(e){try{const t=Array.from(e||[]).map(r=>String(r));localStorage.setItem(Ne,JSON.stringify(t)),localStorage.removeItem(oe)}catch{}}function St(){return Array.from(z())}function At(e){try{const t=z(),r=String(e);return t.has(r)?!1:(t.add(r),_e(t),!0)}catch{return!1}}function He(e){try{const t=z(),r=String(e);return t.has(r)&&(t.delete(r),_e(t)),!0}catch{return!1}}function Ue(e){return z().has(String(e))}function wt(e){return Ue(e)?(He(e),!1):(At(e),!0)}const ae={HOME:"home",FAVORITES:"favorites"},Bt="favorites.html",O="scrollLockCount";let ce=ae.HOME,d=null,L=null,te=null,H=!1;function kt(){var r;const e=(r=document.body)==null?void 0:r.dataset.page;return e||(window.location.pathname.endsWith(Bt)?ae.FAVORITES:ae.HOME)}function qt(e){document.querySelectorAll(".header__nav-link").forEach(n=>{n.getAttribute("data-page")===e?(n.classList.add("header__nav-link--active"),n.setAttribute("aria-current","page")):(n.classList.remove("header__nav-link--active"),n.removeAttribute("aria-current"))}),document.querySelectorAll(".mobile-menu__nav-link").forEach(n=>{n.getAttribute("data-page")===e?(n.classList.add("mobile-menu__nav-link--active"),n.setAttribute("aria-current","page")):(n.classList.remove("mobile-menu__nav-link--active"),n.removeAttribute("aria-current"))})}function Mt(){H||(H=!0,d&&(d.classList.add("is-open"),d.setAttribute("aria-hidden","false")),L&&L.setAttribute("aria-expanded","true"),Tt(),document.addEventListener("keydown",Ve))}function N(){H&&(H=!1,d&&(d.classList.remove("is-open"),d.setAttribute("aria-hidden","true")),L&&L.setAttribute("aria-expanded","false"),jt(),document.removeEventListener("keydown",Ve))}function Ft(){H?N():Mt()}function Ve(e){e.key==="Escape"&&N()}function Tt(){const e=document.body;if(!e)return;const t=Number(e.dataset[O]||0)+1;e.dataset[O]=String(t),t===1&&(e.style.overflow="hidden")}function jt(){const e=document.body;if(!e)return;const t=Number(e.dataset[O]||0)-1;if(t<=0){delete e.dataset[O],e.style.overflow="";return}e.dataset[O]=String(t)}function $t(){ce=kt(),qt(ce),d=document.querySelector(".mobile-menu"),L=document.querySelector(".header__burger"),te=document.querySelector(".mobile-menu__close"),d&&d.setAttribute("aria-hidden","true"),L&&(d!=null&&d.id&&L.setAttribute("aria-controls",d.id),L.addEventListener("click",Ft),L.setAttribute("aria-expanded","false")),te&&te.addEventListener("click",N),document.querySelectorAll(".mobile-menu__nav-link").forEach(t=>{t.addEventListener("click",()=>{N()})}),d&&d.addEventListener("click",t=>{t.target===d&&N()})}function Pt(){return ce}let Z=null,Y=!1,A=null,re=0;function T(){const e=document.getElementById("js-exercise-modal");return e?{modal:e,closeBtn:document.getElementById("js-exercise-modal-close"),image:document.getElementById("js-exercise-modal-image"),video:document.getElementById("js-exercise-modal-video"),title:document.getElementById("js-exercise-modal-title"),ratingValue:e.querySelector(".exercise-modal__rating-value"),ratingStars:e.querySelector(".exercise-modal__rating-stars"),target:document.getElementById("js-exercise-modal-target"),bodyPart:document.getElementById("js-exercise-modal-body-part"),equipment:document.getElementById("js-exercise-modal-equipment"),popular:document.getElementById("js-exercise-modal-popular"),calories:document.getElementById("js-exercise-modal-calories"),time:document.getElementById("js-exercise-modal-time"),description:document.getElementById("js-exercise-modal-description"),favoriteBtn:document.getElementById("js-exercise-modal-favorites"),ratingBtn:document.getElementById("js-exercise-modal-rating-btn")}:null}function Ke(){W()}function De(){const e=Z;if(!e)return;const t=wt(e);Ye(e),!t&&Pt()==="favorites"&&(W(),nt())}function Je(){const e=Z;e&&(W({restoreFocus:!1}),Ct(e,{onSuccess:()=>Ge(e)}))}function Rt(){var t,r,n;if(Y)return;const e=T();e&&((t=e.closeBtn)==null||t.addEventListener("click",Ke),(r=e.favoriteBtn)==null||r.addEventListener("click",De),(n=e.ratingBtn)==null||n.addEventListener("click",Je),Y=!0)}function Ot(){var t,r,n;if(!Y)return;const e=T();e&&((t=e.closeBtn)==null||t.removeEventListener("click",Ke),(r=e.favoriteBtn)==null||r.removeEventListener("click",De),(n=e.ratingBtn)==null||n.removeEventListener("click",Je),Y=!1)}function Ye(e){const t=T();if(!(t!=null&&t.favoriteBtn))return;const r=Ue(e),n=t.favoriteBtn.querySelector("span"),s=t.favoriteBtn.querySelector("svg path");r?(t.favoriteBtn.classList.add("active"),n&&(n.textContent="Remove from favorites"),s&&(s.setAttribute("fill","currentColor"),s.removeAttribute("stroke"),s.removeAttribute("stroke-width"))):(t.favoriteBtn.classList.remove("active"),n&&(n.textContent="Add to favorites"),s&&(s.setAttribute("fill","none"),s.setAttribute("stroke","currentColor"),s.setAttribute("stroke-width","2")))}async function Ge(e){const t=T();if(!t)return;Z=e,A&&A.abort(),A=new AbortController,re+=1;const r=re;Be("js-exercise-modal",{onClose:W}),Rt(),t.title&&(t.title.textContent="Loading..."),t.ratingValue&&(t.ratingValue.textContent="0.0"),t.target&&(t.target.textContent=""),t.bodyPart&&(t.bodyPart.textContent=""),t.equipment&&(t.equipment.textContent=""),t.popular&&(t.popular.textContent="0"),t.calories&&(t.calories.textContent="0"),t.time&&(t.time.textContent="/0 min"),t.description&&(t.description.textContent=""),t.image&&(t.image.src="",t.image.classList.remove("is-hidden")),t.video&&(t.video.src="",t.video.classList.remove("is-visible"),t.video.pause());try{const n=await Se(e,{signal:A.signal});if(r!==re)return;const s=n.videoUrl||n.video||n.videoURL;if(s&&t.video?(t.video.src=s,t.video.classList.add("is-visible"),t.image&&t.image.classList.add("is-hidden")):t.image&&(t.image.src=n.gifUrl||""),t.title&&(t.title.textContent=n.name||""),t.target&&(t.target.textContent=n.target||""),t.bodyPart&&(t.bodyPart.textContent=n.bodyPart||""),t.equipment&&(t.equipment.textContent=n.equipment||""),t.popular&&(t.popular.textContent=n.popularity||0),t.calories&&(t.calories.textContent=n.burnedCalories||0),t.time&&(t.time.textContent=`/${n.time||0} min`),t.description&&(t.description.textContent=n.description||""),t.ratingValue&&(t.ratingValue.textContent=(n.rating||0).toFixed(1)),t.ratingStars){const o=t.ratingStars.querySelectorAll(".exercise-modal__rating-star"),i=Math.round(n.rating||0);o.forEach((a,c)=>{const m=a.querySelector("path");c<i?(m.setAttribute("fill","#EEA10C"),m.removeAttribute("stroke"),m.removeAttribute("stroke-width")):(m.setAttribute("fill","none"),m.setAttribute("stroke","rgba(255,255,255,0.3)"),m.setAttribute("stroke-width","1.5"))})}Ye(e)}catch(n){if((n==null?void 0:n.name)==="AbortError")return;t.title&&(t.title.textContent="Error loading exercise"),t.description&&(t.description.textContent="Failed to load exercise details. Please try again later."),I(n.message||"Failed to load exercise details.","error")}}function W(e={}){const t=T();t&&(Ot(),de("js-exercise-modal",e),Z=null,t.video&&(t.video.pause(),t.video.src="",t.video.classList.remove("is-visible")),A&&(A.abort(),A=null))}function Nt(){const e=T();e!=null&&e.modal&&e.modal.setAttribute("aria-hidden","true")}let j="Muscles",U=1,b=null,y="",x="home";const ne=12,be=8,Ht={Muscles:"muscles","Body parts":"bodypart",Equipment:"equipment"},K=new Map,ze=new Map,u={filters:{controller:null,requestId:0},exercises:{controller:null,requestId:0},favorites:{controller:null,requestId:0}},k=()=>document.getElementById("js-exercises-cards"),Ze=()=>document.querySelector(".exercises__content__pagination"),ge=()=>document.getElementById("js-exercises-search"),We=()=>document.getElementById("js-exercises-search-input"),Ut=()=>document.getElementById("js-exercises-heading"),Vt=()=>document.getElementById("js-exercises-breadcrumbs"),Qe=()=>document.querySelector(".exercises__content");function ve(e){e.controller&&e.controller.abort();const t=new AbortController;return e.controller=t,e.requestId+=1,{controller:t,requestId:e.requestId}}function q(e){e.controller&&e.controller.abort(),e.controller=null,e.requestId+=1}function p(e,t){return e.requestId===t}function he(e){return(e==null?void 0:e.name)==="AbortError"}function Kt(e,t,r){const n=K.get(e);return n&&n.get(`${t}:${r}`)||null}function Dt(e,t,r,n){K.has(e)||K.set(e,new Map),K.get(e).set(`${t}:${r}`,n)}function Jt(e){return ze.get(e)||null}function Yt(e,t){ze.set(e,t)}function C(e){const t=k();t&&t.setAttribute("aria-busy",e?"true":"false")}function Gt(){const e=ge();e&&e.classList.remove("exercises__content__header-search--hidden")}function Xe(){const e=ge(),t=We();e&&e.classList.add("exercises__content__header-search--hidden"),t&&(t.value=""),y=""}function zt(e){if(!e)return"";const t=e.trim();return t?t.charAt(0).toUpperCase()+t.slice(1):e}function $(e){const t=document.createElement("li");return t.className="exercises__content__header-breadcrumbs-entry",t.appendChild(e),t}function se(e){const t=Ut();t&&(t.textContent=e)}function Q(e=null){const t=Vt();if(!t)return;if(t.innerHTML="",x==="favorites"){se("Favorites");const i=document.createElement("span");i.className="exercises__content__header-title exercises__content__header-breadcrumbs-current",i.textContent="Favorites",i.setAttribute("aria-current","page"),t.appendChild($(i));return}if(!e){se("Exercises");const i=document.createElement("span");i.className="exercises__content__header-title exercises__content__header-breadcrumbs-current",i.textContent="Exercises",i.setAttribute("aria-current","page"),t.appendChild($(i));return}const r=zt(e);se(`Exercises: ${r}`);const n=document.createElement("button");n.className="exercises__content__header-title exercises__content__header-breadcrumbs-item",n.textContent="Exercises",n.setAttribute("data-breadcrumb","exercises"),n.type="button",n.addEventListener("click",()=>{b=null,U=1,X(j,U)}),t.appendChild($(n));const s=document.createElement("span");s.className="exercises__content__header-breadcrumbs-separator",s.textContent="/",s.setAttribute("aria-hidden","true"),t.appendChild($(s));const o=document.createElement("span");o.className="exercises__content__header-breadcrumbs-current",o.textContent=r,o.setAttribute("aria-current","page"),t.appendChild($(o))}function le(e){j=e,document.querySelectorAll(".exercises__content__header-filters-item").forEach(r=>{const n=r.getAttribute("data-filter")===e;r.classList.toggle("exercises__content__header-filters-item--active",n),r.setAttribute("aria-pressed",n?"true":"false")})}function Zt(){const e=document.querySelectorAll(".exercises__content__header-filters-item");e.length&&(e.forEach(t=>{t.addEventListener("click",()=>{const r=t.getAttribute("data-filter");r&&(le(r),b=null,y="",X(r,1))})}),le(j))}function Wt(e){const t=e.name||"",r=e.filter||"",n=e.imgURL||"";return`
    <li>
      <button
        class="exercises__content__main__cards-item exercise-card exercise-card--category"
        type="button"
        data-action="open-category"
        data-category-name="${t}"
        aria-label="Open ${t} category">
        <div class="exercises__content__main__cards-item-image exercise-card__image">
          <img src="${n}" alt="${t} exercise" loading="lazy" decoding="async" />
          <div class="exercises__content__main__cards-item-overlay exercise-card__overlay">
            <div class="exercises__content__main__cards-item-overlay-name exercise-card__overlay-name">${t}</div>
            <div class="exercises__content__main__cards-item-overlay-category exercise-card__overlay-category">${r}</div>
          </div>
        </div>
      </button>
    </li>
  `}function Qt(e){const t=e.rating||0,r=e.burnedCalories||0,n=e.time||0,s=e.bodyPart||"",o=e.target||"",i=e._id||"",a=x==="favorites"?`
      <button
        class="exercises__content__main__cards-item-remove exercise-card__remove"
        type="button"
        data-action="remove-favorite"
        aria-label="Remove from favorites">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
          <path d="M3 6H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M8 6V4H16V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M19 6L18 20H6L5 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M10 10V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M14 10V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    `:"";return`
    <li>
      <article
        class="exercises__content__main__cards-item exercises__content__main__cards-item--exercise exercise-card exercise-card--exercise"
        data-exercise-id="${i}">
        <button
          class="exercises__content__main__cards-item-open exercise-card__open"
          type="button"
          data-action="open-exercise"
          aria-label="Open ${e.name}">
        </button>
        <div class="exercises__content__main__cards-item-header exercise-card__header">
          <span class="exercises__content__main__cards-item-workout-btn exercise-card__badge">WORKOUT</span>
          <div class="exercises__content__main__cards-item-rating exercise-card__rating">
            <span class="exercises__content__main__cards-item-rating-value exercise-card__rating-value">${t.toFixed(1)}</span>
            <svg class="exercises__content__main__cards-item-rating-star exercise-card__rating-star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
              <path d="M9 0L11.0206 6.21885L17.5595 6.21885L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885L6.97937 6.21885L9 0Z" fill="#EEA10C"/>
            </svg>
          </div>
          <button
            class="exercises__content__main__cards-item-start-btn exercise-card__start"
            type="button"
            data-action="open-exercise">
            Start
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
              <path d="M6.75 4.5L11.25 9L6.75 13.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        <div class="exercises__content__main__cards-item-body exercise-card__body">
          <div class="exercises__content__main__cards-item-icon exercise-card__icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
              <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 17L12 22L22 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 12L12 17L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h3 class="exercises__content__main__cards-item-title exercise-card__title">${e.name}</h3>
        </div>
        <ul class="exercises__content__main__cards-item-footer exercise-card__meta">
          <li class="exercises__content__main__cards-item-info exercise-card__meta-item">
            <span class="exercises__content__main__cards-item-info-label exercise-card__meta-label">Burned calories:</span>
            <span class="exercises__content__main__cards-item-info-value exercise-card__meta-value">${r}</span>
            <span class="exercises__content__main__cards-item-info-label exercise-card__meta-label">/ ${n} min</span>
          </li>
          <li class="exercises__content__main__cards-item-info exercise-card__meta-item">
            <span class="exercises__content__main__cards-item-info-label exercise-card__meta-label">Body part:</span>
            <span class="exercises__content__main__cards-item-info-value exercise-card__meta-value">${s}</span>
          </li>
          <li class="exercises__content__main__cards-item-info exercise-card__meta-item">
            <span class="exercises__content__main__cards-item-info-label exercise-card__meta-label">Target:</span>
            <span class="exercises__content__main__cards-item-info-value exercise-card__meta-value">${o}</span>
          </li>
        </ul>
        ${a}
      </article>
    </li>
  `}function Xt(e){const t=k();t&&(t.classList.remove("exercises__content__main__cards--exercises","exercise-cards--exercises"),t.innerHTML=e.map(Wt).join(""))}function et(e){const t=k();t&&(t.classList.add("exercises__content__main__cards--exercises","exercise-cards--exercises"),t.innerHTML=e.map(Qt).join(""))}function pe(e){const t=k();t&&(t.classList.add("exercises__content__main__cards--exercises","exercise-cards--exercises"),t.innerHTML=`
    <li class="exercises__content__main__empty-state">
      <p class="exercises__content__main__empty-state-text">
        ${e}
      </p>
    </li>
  `)}function tt(){pe("Unfortunately, no categories were found for this filter.")}function rt(){pe("Unfortunately, no results were found. You may want to consider other search options.")}function D(){pe("It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.")}function Ee(e,t){const r=(e==null?void 0:e.results)||(e==null?void 0:e.exercises)||e||[],n=(e==null?void 0:e.totalPages)||(e==null?void 0:e.total_pages)||(e==null?void 0:e.pageCount)||1;Q(null),Array.isArray(r)&&r.length>0?(Xt(r),M(n,t)):(tt(),M(1,1))}function Le(e,t,r){const n=(e==null?void 0:e.results)||[],s=(e==null?void 0:e.totalPages)||1;Q(r),Array.isArray(n)&&n.length>0?(et(n),M(s,t)):(rt(),M(1,1))}function M(e,t=1){const r=Ze();if(!r||(r.innerHTML="",r.setAttribute("role","navigation"),r.setAttribute("aria-label","Pagination"),e<=1))return;const n=document.createDocumentFragment(),s=a=>{U=a,b?xe(b,a,y):X(j,a)},o=(a,c,m)=>{const _=document.createElement("button");return _.className="exercises__content__pagination-arrow",_.type="button",_.innerHTML=a,_.disabled=c,_.addEventListener("click",m),_};n.appendChild(o("&laquo;",t===1,()=>s(1))),n.appendChild(o("&lsaquo;",t===1,()=>s(t-1)));const i=a=>{const c=document.createElement("button");return c.className="exercises__content__pagination-page",c.type="button",c.textContent=a,a===t&&(c.classList.add("exercises__content__pagination-page--active"),c.setAttribute("aria-current","page")),c.addEventListener("click",()=>s(a)),c};if(e<=5)for(let a=1;a<=e;a++)n.appendChild(i(a));else{n.appendChild(i(1)),n.appendChild(i(2)),n.appendChild(i(3));const a=document.createElement("span");a.className="exercises__content__pagination-ellipsis",a.textContent="...",n.appendChild(a),n.appendChild(i(e-1)),n.appendChild(i(e))}n.appendChild(o("&rsaquo;",t===e,()=>s(t+1))),n.appendChild(o("&raquo;",t===e,()=>s(e))),r.appendChild(n)}async function X(e,t=1){if(x==="favorites")return;le(e),U=t,b=null,y="",Xe(),q(u.exercises);const{controller:r,requestId:n}=ve(u.filters),s=Kt(e,t,ne);if(s){Ee(s,t),p(u.filters,n)&&C(!1);return}C(!0);try{const o=await mt({filter:e,page:t,limit:ne,signal:r.signal});if(!p(u.filters,n)||x==="favorites")return;Dt(e,t,ne,o),Ee(o,t)}catch(o){if(!p(u.filters,n)||he(o))return;Q(null),tt(),M(1,1),I(o.message||"Failed to load categories.","error")}finally{p(u.filters,n)&&C(!1)}}async function xe(e,t=1,r=y){if(x==="favorites")return;b=e,U=t,y=(r==null?void 0:r.trim())||"",Gt(),q(u.filters);const n=Ht[j]||"muscles",s=`${n}:${e}:${t}:${be}:${y}`,{controller:o,requestId:i}=ve(u.exercises),a=Jt(s);if(a){Le(a,t,e),p(u.exercises,i)&&C(!1);return}C(!0);try{const c=await ft({[n]:e,page:t,limit:be,keyword:y,signal:o.signal});if(!p(u.exercises,i)||x==="favorites")return;Yt(s,c),Le(c,t,e)}catch(c){if(!p(u.exercises,i)||he(c))return;rt(),M(1,1),I(c.message||"Failed to load exercises.","error")}finally{p(u.exercises,i)&&C(!1)}}function er(){const e=ge(),t=We();!e||!t||e.addEventListener("submit",r=>{if(r.preventDefault(),!b||x==="favorites")return;const n=t.value.trim();xe(b,1,n)})}async function nt(){const e=St(),t=Ze();if(Q(null),t&&(t.innerHTML=""),e.length===0){q(u.favorites),D();return}const{controller:r,requestId:n}=ve(u.favorites);C(!0);try{const s=await Promise.allSettled(e.map(i=>Se(i,{signal:r.signal})));if(!p(u.favorites,n)||x!=="favorites")return;const o=s.filter(i=>i.status==="fulfilled"&&i.value).map(i=>i.value);o.length>0?et(o):D()}catch(s){if(!p(u.favorites,n)||he(s))return;D(),I(s.message||"Failed to load favorite exercises.","error")}finally{p(u.favorites,n)&&C(!1)}}function tr(){const e=k();e&&e.addEventListener("click",t=>{var o;const r=t.target.closest('[data-action="remove-favorite"]');if(r){t.preventDefault();const i=r.closest("[data-exercise-id]"),a=i==null?void 0:i.getAttribute("data-exercise-id");if(a&&(He(a),x==="favorites")){const c=r.closest("li");c&&c.remove(),(o=k())!=null&&o.children.length||D()}return}const n=t.target.closest('[data-action="open-category"]');if(n){const i=n.getAttribute("data-category-name");i&&xe(i,1);return}const s=t.target.closest('[data-action="open-exercise"]');if(s){const i=s.closest("[data-exercise-id]"),a=i==null?void 0:i.getAttribute("data-exercise-id");a&&Ge(a)}})}function rr(){x="home",b=null,y="",q(u.favorites);const e=Qe();e&&e.classList.remove("exercises__content--favorites"),X(j,1)}function nr(){x="favorites",b=null,y="",Xe(),q(u.filters),q(u.exercises),C(!1);const e=Qe();e&&e.classList.add("exercises__content--favorites"),nt()}const st="your-energy:quote",E={text:"quote-text",author:"quote-author",date:"quote-date"};function sr(){const e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}function ir(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}function or(){try{const e=ir(localStorage.getItem(st),null);if(e&&typeof e=="object"&&e.quote&&e.author)return e;const t={quote:localStorage.getItem(E.text),author:localStorage.getItem(E.author),date:localStorage.getItem(E.date)};return t.quote&&t.author?(it(t),localStorage.removeItem(E.text),localStorage.removeItem(E.author),localStorage.removeItem(E.date),t):null}catch{return null}}function it(e){try{localStorage.setItem(st,JSON.stringify(e)),localStorage.removeItem(E.text),localStorage.removeItem(E.author),localStorage.removeItem(E.date)}catch{}}async function ar(){const e=or(),t=sr();if(e&&e.quote&&e.author&&e.date===t)return{quote:e.quote,author:e.author};try{const r=await dt(),n={quote:r==null?void 0:r.quote,author:r==null?void 0:r.author,date:t};return n.quote&&n.author&&it(n),{quote:r==null?void 0:r.quote,author:r==null?void 0:r.author}}catch{return e!=null&&e.quote&&(e!=null&&e.author)?{quote:e.quote,author:e.author}:((!(e!=null&&e.quote)||!(e!=null&&e.author))&&I("Failed to load quote of the day.","error"),null)}}async function cr(){const e=await ar();if(!e)return;const t=document.getElementById("js-exercises-quote-text"),r=document.getElementById("js-exercises-quote-author");t&&(t.textContent=e.quote),r&&(r.textContent=e.author)}document.addEventListener("DOMContentLoaded",()=>{var s;cr(),Nt(),It(),at(),$t(),er(),tr(),Zt(),(((s=document.body)==null?void 0:s.dataset.page)||"home")==="favorites"?nr():rr();const t=document.getElementById("subscribeForm"),r=document.getElementById("footer-subscribe-email"),n=document.getElementById("subscribeEmailError");r&&n&&r.addEventListener("input",()=>{h(r,n)}),t&&t.addEventListener("submit",async o=>{o.preventDefault();const i=(r==null?void 0:r.value.trim())||"";let a=!1;if(i?Ie(i)?h(r,n):(B(r,n,"Please enter a valid email address"),a=!0):(B(r,n,"Please enter your email address"),a=!0),!a)try{const c=await gt(i);I((c==null?void 0:c.message)||"Subscription successful.","success"),t.reset(),h(r,n)}catch(c){I(c.message||"Failed to subscribe.","error")}})});
//# sourceMappingURL=main-B8ISRx2S.js.map
